{"version":3,"sources":["webpack:///./dist/ngr2-markdown/fesm5/ngr2-markdown.js","webpack:///./projects/ngr2-markdown/src/lib/core/fileOperator.ts","webpack:///./projects/ngr2-markdown/src/lib/core/markdown/markdown.ts","webpack:///./projects/ngr2-markdown/src/lib/service/ngr2-markdown.service.ts","webpack:///./projects/ngr2-markdown/src/lib/utils/textParser.ts","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+E;AACzB;AACkB;AACuF;AAC9H;AACqD;AAC8B;;AAEpH;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,8BAA8B,6EAAU;AACxC;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,4BAA4B,gEAAW;AACvC;AACA;AACA,4BAA4B,8DAAS;AACrC;AACA;AACA,gCAAgC;AAChC;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,6BAA6B,+CAAU;AACvC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,0CAAK,eAAe,sDAAQ,EAAE,sDAAS;AACtD,YAAY,sDAAS;AACrB,YAAY,sDAAS;AACrB,YAAY,sDAAS;AACrB,YAAY,sDAAS;AACrB,YAAY,sDAAS,8BAA8B,0DAAG;AACtD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oDAAe;AAC3C,2BAA2B,oDAAe;AAC1C;AACA;AACA;AACA,kCAAkC,oDAAe;AACjD;AACA;AACA;AACA,kCAAkC,oDAAe,EAAE,mBAAmB;AACtE;AACA;AACA;AACA,2BAA2B,oDAAe;AAC1C;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kBAAkB,0DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,0BAA0B,+CAAU;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,sEAAsE,qBAAqB;AAC3F;AACA;AACA,wEAAwE,oBAAoB;AAC5F;AACA;AACA,2CAA2C,oBAAoB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE,6DAA6D,sEAAgB,EAAE,kDAAkD,kCAAkC,EAAE,kDAAkD;AACvN;AACA,CAAC;AACD;AACA;AACA,8BAA8B,0BAA0B;AACxD,gCAAgC,8BAA8B;AAC9D,6BAA6B,wBAAwB;AACrD,iCAAiC,iCAAiC;AAClE,mCAAmC,oCAAoC;AACvE,gCAAgC,8BAA8B;AAC9D,oCAAoC,uCAAuC;AAC3E,uCAAuC,8CAA8C;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,8BAA8B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,gCAAgC,QAAQ;AACxC,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,QAAQ,sDAAS;AACjB,kBAAkB,6DAAM;AACxB,oBAAoB;AACpB;AACA,qBAAqB,sEAAsE,EAAE,IAAI,0DAAG;AACpG,oBAAoB;AACpB;AACA,qBAAqB,+BAA+B,EAAE,IAAI,2EAAoB;AAC9E;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,qFAAqF;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sFAAsF;AACvH;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,iCAAiC,sFAAsF;AACvH;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yCAAyC,EAAE;AAC3C,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oCAAoC,EAAE;AACtC;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,qBAAqB;AAC5C,uBAAuB,EAAE;AACzB,oCAAoC,EAAE;AACtC;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,qDAAqD,sDAAQ;AAC7D;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,mCAAmC,+DAAiB;AACpD,0CAA0C,kBAAkB,aAAa,sBAAsB,cAAc,sBAAsB,eAAe,OAAO,gBAAgB,sBAAsB,cAAc,aAAa,gBAAgB,YAAY,QAAQ,OAAO,gBAAgB,sBAAsB,cAAc,gBAAgB,YAAY,aAAa,sBAAsB,mBAAmB,aAAa,mBAAmB,oBAAoB,YAAY,gBAAgB,UAAU,cAAc,yBAAyB,eAAe,cAAc,yBAAyB,YAAY,cAAc,sBAAsB,sBAAsB,eAAe,yBAAyB,aAAa,cAAc,cAAc,yBAAyB,MAAM,eAAe,yBAAyB;AAChyB,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS;AACT,MAAM;AACN;AACA,wBAAwB,OAAO,uDAAS;AACxC,8BAA8B,wDAAU;AACxC,qBAAqB,IAAI;AACzB,oBAAoB,OAAO,mDAAK,EAAE;AAClC,mBAAmB,OAAO,mDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,wWAAwW,8DAA8D,iCAAiC,mBAAmB,yVAAyV,8DAA8D,yCAAyC,mBAAmB;AAC76B,+CAA+C,aAAa,sBAAsB,eAAe,cAAc,aAAa,WAAW,mBAAmB,cAAc,KAAK,SAAS,UAAU,gBAAgB,eAAe,eAAe,qBAAqB,UAAU;AAC7Q,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS;AACT,MAAM;AACN;AACA,0BAA0B,OAAO,mDAAK,EAAE;AACxC,sBAAsB,OAAO,mDAAK,EAAE;AACpC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,KAAK;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,KAAK;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,kDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,sEAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA,SAAS,OAAO,kDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,yCAAyC;AACzC,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oCAAoC,EAAE;AAChE,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,gCAAgC,WAAW,qBAAqB;AAChE,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS;AACT,MAAM;AACN;AACA,oBAAoB,OAAO,uDAAS,sBAAsB,OAAO,wDAAU,EAAE,IAAI;AACjF;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,6BAA6B,4CAAO;AACpC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2EAAoB,IAAI,mEAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,wCAAwC,aAAa,sBAAsB,YAAY,eAAe,cAAc,cAAc,UAAU,cAAc,yBAAyB,UAAU,aAAa,sBAAsB;AAChO,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS,4BAA4B;AACrC,SAAS,OAAO,wDAAU;AAC1B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD,4CAA4C,2CAA2C;AACvF;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,oDAAoD,EAAE;AACtD,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,mBAAmB;AACnD,4CAA4C,2CAA2C;AACvF,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,wBAAwB,EAAE;AACnD,6CAA6C,sDAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kCAAkC;AAClC;AACA,gBAAgB;AAChB;AACA;AACA;AACA,kCAAkC;AAClC;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,6BAA6B,+CAAU;AACvC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,kBAAkB,+DAAQ;AAC1B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iDAAiD,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,4BAA4B,EAAE;AACvD,6CAA6C,sDAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,6BAA6B,+CAAU;AACvC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,sGAAsG,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,kBAAkB,+DAAQ;AAC1B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iDAAiD,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,2BAA2B,EAAE;AACtD,6CAA6C,sDAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,2BAA2B,EAAE;AACtD,6CAA6C,sDAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,+CAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,kBAAkB,2DAAI;AACtB,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,eAAe,2CAAM,eAAe,sDAAQ,oBAAoB,2DAAI;AACpE,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,EAAE;AAC9D;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,uDAAuD,EAAE;AACzD;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,SAAS;AACT;AACA,qBAAqB,EAAE;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kGAAkG,sDAAQ;AAC1G;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,mEAAmE,EAAE;AAC/F,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,sfAAsf,opCAAopC,iBAAiB;AAC3pD,4CAA4C,aAAa,sBAAsB,YAAY,yBAAyB,yBAAyB,eAAe,gBAAgB,SAAS,SAAS,UAAU,YAAY,6BAA6B,qCAAqC,gCAAgC,iCAAiC,eAAe,WAAW,+BAA+B,YAAY,yBAAyB,cAAc,gCAAgC,uBAAuB,cAAc,qBAAqB,gBAAgB,SAAS,YAAY,qBAAqB,aAAa,sBAAsB,eAAe,YAAY,YAAY,WAAW,iCAAiC,kBAAkB,iCAAiC,gCAAgC,0BAA0B,mBAAmB,uBAAuB,gBAAgB,kEAAkE,gCAAgC,4BAA4B,sBAAsB,kCAAkC,uBAAuB,YAAY,kBAAkB,UAAU,YAAY;AACrnC,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,4BAA4B;AACrC,SAAS,OAAO,uDAAS;AACzB,MAAM;AACN;AACA,oBAAoB,OAAO,uDAAS,sBAAsB,OAAO,wDAAU,EAAE,IAAI;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA,gCAAgC,yBAAyB;AACzD,+BAA+B,uBAAuB;AACtD,iCAAiC,2BAA2B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD,WAAW;AAChE;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD,WAAW;AAC3D;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6CAA6C;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,0CAAK,eAAe,sDAAQ;AAC3C;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,wCAAwC;AACxC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,aAAa,EAAE,GAAG;AAC3C,mBAAmB,EAAE;AACrB,yBAAyB,sDAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,+BAA+B,0DAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,kBAAkB,0DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,sBAAsB,mEAAY;AAClC;AACA;AACA;AACA,sBAAsB,6DAAM;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,sBAAsB,mCAAmC,oBAAoB,EAAE;AAC/E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,sCAAsC,iDAAiD;AACvF,mCAAmC,2CAA2C;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,EAAE;AAChD;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,EAAE;AAC5B;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD,uBAAuB,EAAE;AACzB,yDAAyD,EAAE;AAC3D;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;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","file":"main.js","sourcesContent":["import * as MarkdownIt from 'node_modules/markdown-it/dist/markdown-it.min.js';\nimport { getLanguage, highlight } from 'highlight.js';\nimport { DomSanitizer, BrowserModule } from '@angular/platform-browser';\nimport { Injectable, Directive, ElementRef, Component, Pipe, Input, ViewChild, NgModule, Renderer2, defineInjectable, ViewEncapsulation } from '@angular/core';\nimport { __spread } from 'tslib';\nimport { Observable, fromEvent, merge, BehaviorSubject, Subject, concat } from 'rxjs';\nimport { map, distinctUntilChanged, filter, debounceTime, mergeMap, scan, tap, throttleTime } from 'rxjs/operators';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MarkdownImpl = /** @class */ (function () {\r\n    function MarkdownImpl() {\r\n        var _this = this;\r\n        this.markdownIt = new MarkdownIt({\r\n            highlight: (/**\r\n             * @param {?} str\r\n             * @param {?} lang\r\n             * @return {?}\r\n             */\r\n            function (str, lang) {\r\n                if (lang && getLanguage(lang)) {\r\n                    try {\r\n                        return '<pre class=\"hljs\"><code>' +\r\n                            highlight(lang, str).value +\r\n                            '</code></pre>';\r\n                    }\r\n                    catch (__) { }\r\n                }\r\n                return '<pre class=\"hljs\"><code>' + _this.markdownIt.utils.escapeHtml(str) + '</code>';\r\n            })\r\n        });\r\n    }\r\n    /**\r\n     * render markdown text function\r\n     * 渲染函数\r\n     * @param markdown - markdown format text - markdown格式的文本\r\n     * @param options - use to open or close plugins\r\n     * @return - return transformation html - 返回渲染后的html\r\n     */\r\n    /**\r\n     * render markdown text function\r\n     * 渲染函数\r\n     * @param {?} markdown - markdown format text - markdown格式的文本\r\n     * @param {?=} options - use to open or close plugins\r\n     * @return {?} - return transformation html - 返回渲染后的html\r\n     */\r\n    MarkdownImpl.prototype.render = /**\r\n     * render markdown text function\r\n     * 渲染函数\r\n     * @param {?} markdown - markdown format text - markdown格式的文本\r\n     * @param {?=} options - use to open or close plugins\r\n     * @return {?} - return transformation html - 返回渲染后的html\r\n     */\r\n    function (markdown, options) {\r\n        this.disable(options);\r\n        /** @type {?} */\r\n        var html = this.markdownIt.render(markdown);\r\n        this.enable(options);\r\n        return html;\r\n    };\r\n    /**\r\n     * fn: 传入的方法可以对md的内容进行处理, 处理结果由subject发出\r\n     * fn.md: Markdown对象内容都在里面\r\n     * fm.subject: 观察者, 处理结果由此传出\r\n     * @param fn\r\n     */\r\n    /**\r\n     * fn: 传入的方法可以对md的内容进行处理, 处理结果由subject发出\r\n     * fn.md: Markdown对象内容都在里面\r\n     * fm.subject: 观察者, 处理结果由此传出\r\n     * @template T\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    MarkdownImpl.prototype.use = /**\r\n     * fn: 传入的方法可以对md的内容进行处理, 处理结果由subject发出\r\n     * fn.md: Markdown对象内容都在里面\r\n     * fm.subject: 观察者, 处理结果由此传出\r\n     * @template T\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    function (fn) {\r\n        /** @type {?} */\r\n        var md = this.markdownIt;\r\n        /** @type {?} */\r\n        var observable = new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            md.use(fn, subscriber);\r\n        }));\r\n        return observable;\r\n    };\r\n    /**\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    MarkdownImpl.prototype.enable = /**\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    function (option) {\r\n        if (!option) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var enableRules = Object.keys(option).filter(((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            return !option[value];\r\n        })));\r\n        this.markdownIt.enable(enableRules);\r\n    };\r\n    /**\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    MarkdownImpl.prototype.disable = /**\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    function (option) {\r\n        if (!option) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var disableRules = Object.keys(option).filter(((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            return !option[value];\r\n        })));\r\n        this.markdownIt.disable(disableRules);\r\n    };\r\n    return MarkdownImpl;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FileOperatorImpl = /** @class */ (function () {\r\n    function FileOperatorImpl() {\r\n        this.fileReader = new FileReader();\r\n    }\r\n    /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.toDataURL = /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    function (fileOrBlob) {\r\n        this.fileReader.readAsDataURL(fileOrBlob);\r\n        return this.mergeFileReader(this.fileReader);\r\n    };\r\n    /**\r\n     * @param {?} fileOrBlob\r\n     * @param {?=} encoding\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.toText = /**\r\n     * @param {?} fileOrBlob\r\n     * @param {?=} encoding\r\n     * @return {?}\r\n     */\r\n    function (fileOrBlob, encoding) {\r\n        this.fileReader.readAsText(fileOrBlob, encoding);\r\n        return this.mergeFileReader(this.fileReader);\r\n    };\r\n    /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.toArrayBuffer = /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    function (fileOrBlob) {\r\n        this.fileReader.readAsArrayBuffer(fileOrBlob);\r\n        return this.mergeFileReader(this.fileReader);\r\n    };\r\n    /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.toDataURLSync = /**\r\n     * @param {?} fileOrBlob\r\n     * @return {?}\r\n     */\r\n    function (fileOrBlob) {\r\n        this.result = window.URL.createObjectURL(fileOrBlob);\r\n        return this.result;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.revokeDataURLSync = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        window.URL.revokeObjectURL(this.result);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} fileReader\r\n     * @return {?}\r\n     */\r\n    FileOperatorImpl.prototype.mergeFileReader = /**\r\n     * @private\r\n     * @param {?} fileReader\r\n     * @return {?}\r\n     */\r\n    function (fileReader) {\r\n        return merge.apply(void 0, __spread([fromEvent(fileReader, 'load'),\r\n            fromEvent(fileReader, 'loadstart'),\r\n            fromEvent(fileReader, 'loadend'),\r\n            fromEvent(fileReader, 'progress'),\r\n            fromEvent(fileReader, 'error'),\r\n            fromEvent(fileReader, 'abort')])).pipe(map((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            return Object.assign(value, {\r\n                result: fileReader.result || '',\r\n                error: fileReader.error || null\r\n            });\r\n        })));\r\n    };\r\n    return FileOperatorImpl;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TextParser = /** @class */ (function () {\r\n    function TextParser() {\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} text\r\n     * @return {?}\r\n     */\r\n    TextParser.parse = /**\r\n     * @private\r\n     * @param {?} text\r\n     * @return {?}\r\n     */\r\n    function (text) {\r\n        if (!text) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var words = (text.match(TextParser.WORDS) || []).length;\r\n        /** @type {?} */\r\n        var bytes = 0;\r\n        /** @type {?} */\r\n        var lines = 0;\r\n        for (var i = 0; i < text.length; i++) {\r\n            if (text.charCodeAt(i) & 0xff00) {\r\n                bytes++;\r\n            }\r\n            else if (text.charAt(i) === '\\n') {\r\n                lines++;\r\n            }\r\n            bytes++;\r\n        }\r\n        console.log({\r\n            words: words,\r\n            bytes: bytes,\r\n            lines: lines\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} markdown\r\n     * @return {?}\r\n     */\r\n    TextParser.parseMD = /**\r\n     * @param {?} markdown\r\n     * @return {?}\r\n     */\r\n    function (markdown) {\r\n        this.parse(markdown);\r\n    };\r\n    /**\r\n     * @param {?} html\r\n     * @return {?}\r\n     */\r\n    TextParser.parseHTML = /**\r\n     * @param {?} html\r\n     * @return {?}\r\n     */\r\n    function (html) {\r\n        TextParser._DIV.innerHTML = html;\r\n        this.parse(TextParser._DIV.textContent);\r\n    };\r\n    TextParser._DIV = document.createElement('DIV');\r\n    TextParser.WORDS = new RegExp('/([a-zA-Z]+)|([\\u4e00-\\u9fa5])/g');\r\n    return TextParser;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar Ngr2MarkdownService = /** @class */ (function () {\r\n    function Ngr2MarkdownService() {\r\n        var _this = this;\r\n        /**\r\n         * 接收Markdown源文本\r\n         */\r\n        this.originMd = new BehaviorSubject(null);\r\n        this.resetMd = new BehaviorSubject(null);\r\n        /**\r\n         * 当前浏览的标题的Subject, BehaviorSubject可支持多播(在多处订阅)\r\n         */\r\n        this.currentHeading = new BehaviorSubject(null);\r\n        /**\r\n         * @deprecated\r\n         */\r\n        this.currentContent = new BehaviorSubject({ md: '', html: '' });\r\n        /**\r\n         * 发送目录信息的Subject\r\n         */\r\n        this.TOCInfo = new BehaviorSubject(null);\r\n        this._md = new MarkdownImpl();\r\n        this._md.use(this.anchor)\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            /** @type {?} */\r\n            var infoList = value.map((/**\r\n             * @param {?} item\r\n             * @return {?}\r\n             */\r\n            function (item) {\r\n                return new TOCItem(item.content, item.indentLevel);\r\n            }));\r\n            /** @type {?} */\r\n            var root = new TOCItem('root', 0);\r\n            /** @type {?} */\r\n            var TOCInfo = root;\r\n            for (var i = 0; i < infoList.length; i++) {\r\n                while (TOCInfo && TOCInfo.indentLevel >= infoList[i].indentLevel) {\r\n                    TOCInfo = TOCInfo.parent;\r\n                }\r\n                infoList[i].parent = TOCInfo;\r\n                TOCInfo.children.push(infoList[i]);\r\n                TOCInfo = infoList[i];\r\n            }\r\n            _this.TOCInfo.next(root);\r\n        }));\r\n        this.renderMd = this.originMd\r\n            .pipe(map((/**\r\n         * @param {?} mdText\r\n         * @return {?}\r\n         */\r\n        function (mdText) {\r\n            return {\r\n                md: mdText || null,\r\n                html: _this.render(mdText)\r\n            };\r\n        })));\r\n        this.resetMd\r\n            .subscribe(this.originMd);\r\n    }\r\n    /**\r\n     * 重置markdown文本\r\n     * @param md\r\n     */\r\n    /**\r\n     * 重置markdown文本\r\n     * @param {?} md\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.reinitialization = /**\r\n     * 重置markdown文本\r\n     * @param {?} md\r\n     * @return {?}\r\n     */\r\n    function (md) {\r\n        if (!md) {\r\n            return;\r\n        }\r\n        this.resetMd.next(md);\r\n    };\r\n    /**\r\n     * markdown文本重置后, 发出消息\r\n     */\r\n    /**\r\n     * markdown文本重置后, 发出消息\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.observerResetMarkdown = /**\r\n     * markdown文本重置后, 发出消息\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.resetMd;\r\n    };\r\n    /**\r\n     * 更新markdown文本, 用于实时预览功能\r\n     * @param md\r\n     */\r\n    /**\r\n     * 更新markdown文本, 用于实时预览功能\r\n     * @param {?} md\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.updateMarkdown = /**\r\n     * 更新markdown文本, 用于实时预览功能\r\n     * @param {?} md\r\n     * @return {?}\r\n     */\r\n    function (md) {\r\n        if (!md) {\r\n            return;\r\n        }\r\n        if (md instanceof Observable) {\r\n            md.subscribe(this.originMd);\r\n        }\r\n        else {\r\n            this.originMd.next(md);\r\n        }\r\n    };\r\n    /**\r\n     * markdown文本更新后, 发出消息\r\n     */\r\n    /**\r\n     * markdown文本更新后, 发出消息\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.observeMarkdown = /**\r\n     * markdown文本更新后, 发出消息\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.renderMd;\r\n    };\r\n    /**\r\n     * @param {?} markdown\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.render = /**\r\n     * @param {?} markdown\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (markdown, options) {\r\n        if (!markdown) {\r\n            markdown = '';\r\n        }\r\n        /** @type {?} */\r\n        var html = this._md.render(markdown, options);\r\n        TextParser.parseMD(markdown);\r\n        TextParser.parseHTML(html);\r\n        return html;\r\n    };\r\n    /**\r\n     * 设置当前浏览的标题\r\n     * @param heading - 标题标签的id\r\n     */\r\n    /**\r\n     * 设置当前浏览的标题\r\n     * @param {?} heading - 标题标签的id\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.setCurrentHeading = /**\r\n     * 设置当前浏览的标题\r\n     * @param {?} heading - 标题标签的id\r\n     * @return {?}\r\n     */\r\n    function (heading) {\r\n        if (this.currentHeading.getValue() !== heading) {\r\n            this.currentHeading.next(heading);\r\n        }\r\n    };\r\n    /**\r\n     * 将当前显示的内容转换成`data:`url\r\n     * @param type - `markdown`/`html`: 要转换的内容\r\n     */\r\n    /**\r\n     * 将当前显示的内容转换成`data:`url\r\n     * @param {?} type - `markdown`/`html`: 要转换的内容\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.currentContentToDataUrl = /**\r\n     * 将当前显示的内容转换成`data:`url\r\n     * @param {?} type - `markdown`/`html`: 要转换的内容\r\n     * @return {?}\r\n     */\r\n    function (type) {\r\n        /** @type {?} */\r\n        var fileOperator = new FileOperatorImpl();\r\n        // 兼容ie11-10, ie10不支持File对象的构造函数, 无法新建File对象, 故使用Blob\r\n        /** @type {?} */\r\n        var file;\r\n        switch (type) {\r\n            case 'markdown':\r\n                file = new Blob([this.currentContent.getValue().md], { type: 'text/plain' });\r\n                break;\r\n            case \"html\":\r\n                file = new Blob([this.currentContent.getValue().html], { type: 'text/html' });\r\n                break;\r\n            default:\r\n                file = new Blob(['null'], { type: 'text/html' });\r\n                break;\r\n        }\r\n        fileOperator.toDataURLSync(file);\r\n        return fileOperator;\r\n    };\r\n    /**\r\n     * Plugin: anchor\r\n     * 这个方法向类型为heading_open的token添加id, 用于锚点定位\r\n     * @param md - MarkdownIt instance\r\n     * @param observer - use to push info\r\n     */\r\n    /**\r\n     * Plugin: anchor\r\n     * 这个方法向类型为heading_open的token添加id, 用于锚点定位\r\n     * @private\r\n     * @param {?} md - MarkdownIt instance\r\n     * @param {?} observer - use to push info\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownService.prototype.anchor = /**\r\n     * Plugin: anchor\r\n     * 这个方法向类型为heading_open的token添加id, 用于锚点定位\r\n     * @private\r\n     * @param {?} md - MarkdownIt instance\r\n     * @param {?} observer - use to push info\r\n     * @return {?}\r\n     */\r\n    function (md, observer) {\r\n        md.core.ruler.push('anchor', ((/**\r\n         * @param {?} state\r\n         * @return {?}\r\n         */\r\n        function (state) {\r\n            /** @type {?} */\r\n            var infoList = [];\r\n            state.tokens.map((/**\r\n             * @param {?} token\r\n             * @param {?} index\r\n             * @param {?} array\r\n             * @return {?}\r\n             */\r\n            function (token, index, array) {\r\n                if (token.type === 'heading_open') {\r\n                    token.attrJoin('id', array[index + 1].content);\r\n                    infoList.push({\r\n                        content: token.attrGet('id'),\r\n                        indentLevel: token.markup.length\r\n                    });\r\n                }\r\n            }));\r\n            observer.next(infoList);\r\n        })));\r\n    };\r\n    Ngr2MarkdownService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    Ngr2MarkdownService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ Ngr2MarkdownService.ngInjectableDef = defineInjectable({ factory: function Ngr2MarkdownService_Factory() { return new Ngr2MarkdownService(); }, token: Ngr2MarkdownService, providedIn: \"root\" });\r\n    return Ngr2MarkdownService;\r\n}());\r\nvar EditorOption = /** @class */ (function () {\r\n    function EditorOption(mode, anchor, TOC, toolBar, direction, height, themeColor, bodyClassName) {\r\n        if (mode === void 0) { mode = EditorOption.MODE; }\r\n        if (anchor === void 0) { anchor = EditorOption.ANCHOR; }\r\n        if (TOC === void 0) { TOC = EditorOption.TOc; }\r\n        if (toolBar === void 0) { toolBar = EditorOption.TOOL_BAR; }\r\n        if (direction === void 0) { direction = EditorOption.DIRECTION; }\r\n        if (height === void 0) { height = EditorOption.HEIGHT; }\r\n        if (themeColor === void 0) { themeColor = EditorOption.THEME_COLOR; }\r\n        if (bodyClassName === void 0) { bodyClassName = EditorOption.BODY_CLASS_NAME; }\r\n        this.mode = mode;\r\n        this.anchor = anchor;\r\n        this.TOC = TOC;\r\n        this.toolBar = toolBar;\r\n        this.direction = direction;\r\n        this.height = height;\r\n        this.themeColor = themeColor;\r\n        this.bodyClassName = bodyClassName;\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    EditorOption.instanceOf = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        return new EditorOption(value.mode || EditorOption.MODE, value.anchor || EditorOption.ANCHOR, value.TOC || EditorOption.TOc, value.toolBar || EditorOption.TOOL_BAR, value.direction || EditorOption.DIRECTION, value.height || EditorOption.HEIGHT, value.themeColor || EditorOption.THEME_COLOR, value.bodyClassName || EditorOption.BODY_CLASS_NAME);\r\n    };\r\n    EditorOption.MODE = 'edit';\r\n    EditorOption.ANCHOR = false;\r\n    EditorOption.TOc = false;\r\n    EditorOption.TOOL_BAR = false;\r\n    EditorOption.DIRECTION = 'left';\r\n    EditorOption.HEIGHT = '800px';\r\n    EditorOption.THEME_COLOR = '#3f51b5';\r\n    EditorOption.BODY_CLASS_NAME = 'markdown-body';\r\n    return EditorOption;\r\n}());\r\nvar TOCItem = /** @class */ (function () {\r\n    function TOCItem(content, indentLevel) {\r\n        this.content = content;\r\n        this.indentLevel = indentLevel;\r\n        this.children = new Array();\r\n    }\r\n    return TOCItem;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ParseUnit = /** @class */ (function () {\r\n    function ParseUnit() {\r\n    }\r\n    /**\r\n     * @param {?} str\r\n     * @param {?=} unitMap\r\n     * @param {?=} caseSensitive\r\n     * @return {?}\r\n     */\r\n    ParseUnit.checkUnit = /**\r\n     * @param {?} str\r\n     * @param {?=} unitMap\r\n     * @param {?=} caseSensitive\r\n     * @return {?}\r\n     */\r\n    function (str, unitMap, caseSensitive) {\r\n        if (unitMap === void 0) { unitMap = ParseUnit.UNIT_MAP; }\r\n        if (!unitMap || !str) {\r\n            return;\r\n        }\r\n        if (!caseSensitive) {\r\n            str = str.toLocaleLowerCase();\r\n        }\r\n        /** @type {?} */\r\n        var i;\r\n        /** @type {?} */\r\n        var isMatch = false;\r\n        for (i = str.length - 1; i >= 0; i--) {\r\n            /** @type {?} */\r\n            var ascii = str.charCodeAt(i);\r\n            if (ascii >= 48 && ascii <= 57) {\r\n                isMatch = unitMap.exist;\r\n                break;\r\n            }\r\n            else {\r\n                if (!unitMap.child[str[i]]) {\r\n                    break;\r\n                }\r\n                unitMap = unitMap.child[str[i]];\r\n            }\r\n        }\r\n        return isMatch ? {\r\n            unit: str.substr(i + 1),\r\n            number: Number.parseInt(str.substr(0, i + 1), 10)\r\n        } : null;\r\n    };\r\n    ParseUnit.UNIT_MAP = {\r\n        exist: false,\r\n        child: {\r\n            'b': {\r\n                exist: false,\r\n                child: {\r\n                    'v': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'c': {\r\n                exist: false,\r\n                child: {\r\n                    'i': {\r\n                        exist: true,\r\n                        child: {}\r\n                    },\r\n                    'p': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'h': {\r\n                exist: false,\r\n                child: {\r\n                    'c': {\r\n                        exist: true,\r\n                        child: {}\r\n                    },\r\n                    'l': {\r\n                        exist: true,\r\n                        child: {\r\n                            'r': {\r\n                                exist: true,\r\n                                child: {}\r\n                            }\r\n                        }\r\n                    },\r\n                    'v': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'i': {\r\n                exist: false,\r\n                child: {\r\n                    'v': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'm': {\r\n                exist: false,\r\n                child: {\r\n                    'e': {\r\n                        exist: true,\r\n                        child: {\r\n                            'r': {\r\n                                exist: true,\r\n                                child: {}\r\n                            }\r\n                        }\r\n                    },\r\n                    'm': {\r\n                        exist: true,\r\n                        child: {}\r\n                    },\r\n                    'c': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'n': {\r\n                exist: false,\r\n                child: {\r\n                    'i': {\r\n                        exist: true,\r\n                        child: {\r\n                            'm': {\r\n                                exist: false,\r\n                                child: {\r\n                                    'v': {\r\n                                        exist: true,\r\n                                        child: {}\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            'p': {\r\n                exist: false,\r\n                child: {\r\n                    'a': {\r\n                        exist: false,\r\n                        child: {\r\n                            'c': {\r\n                                exist: true,\r\n                                child: {}\r\n                            },\r\n                        }\r\n                    },\r\n                }\r\n            },\r\n            'q': {\r\n                exist: true,\r\n                child: {}\r\n            },\r\n            't': {\r\n                exist: false,\r\n                child: {\r\n                    'p': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'w': {\r\n                exist: false,\r\n                child: {\r\n                    'v': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            },\r\n            'x': {\r\n                exist: false,\r\n                child: {\r\n                    'a': {\r\n                        exist: false,\r\n                        child: {\r\n                            'm': {\r\n                                exist: false,\r\n                                child: {\r\n                                    'v': {\r\n                                        exist: true,\r\n                                        child: {}\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    'e': {\r\n                        exist: true,\r\n                        child: {}\r\n                    },\r\n                    'p': {\r\n                        exist: true,\r\n                        child: {}\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return ParseUnit;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar Ngr2MarkdownComponent = /** @class */ (function () {\r\n    function Ngr2MarkdownComponent(markdownService) {\r\n        this.markdownService = markdownService;\r\n    }\r\n    Object.defineProperty(Ngr2MarkdownComponent.prototype, \"markdown\", {\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.markdownService.updateMarkdown(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ngr2MarkdownComponent.prototype, \"options\", {\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._options = EditorOption.instanceOf(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.markdownService.observeMarkdown()\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            // 更新innerHTML\r\n            _this._html = value.html;\r\n            // 重新初始化一些需要视图渲染结束才能获取的对象的值\r\n            _this.reinitialization();\r\n            setTimeout((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                _this.updateHeadingInfo();\r\n            }));\r\n        }));\r\n        fromEvent(this.markdownBody.nativeElement, 'scroll')\r\n            .pipe(filter((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.headingElementRef && _this.headingElementRef.length > 0; })), map((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.markdownScroll(); })), distinctUntilChanged())\r\n            .subscribe(this.markdownService.currentHeading);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownComponent.prototype.reinitialization = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.headingElementMarginTop = {};\r\n        // 初始化标题元素的数组\r\n        this.headingElementRef = [];\r\n        // 页面滚动到顶部\r\n        this.markdownBody.nativeElement.scrollTop = 0;\r\n        // 重置当前标题\r\n        this.markdownService.setCurrentHeading(null);\r\n    };\r\n    /**\r\n     * @description <b>元素的位置用\r\n     * [getBoundingClientRect()]{@link https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect}获取,\r\n     * 这个方法得到的矩形不会包括元素的外边距(margin)</b>\r\n     * 如果想要在检测时包括外边距, 需要先获取到外边距\r\n     * markdown内容滚动时触发\r\n     * 基于父元素的顶部位置, 判断当前浏览的标题内容\r\n     * 选出标题元素(h1 ~ h6)的顶部在父元素(class=markdown)顶部之上或相等的元素, 作为当前浏览的标题\r\n     */\r\n    /**\r\n     * \\@description <b>元素的位置用\r\n     * [getBoundingClientRect()]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect}获取,\r\n     * 这个方法得到的矩形不会包括元素的外边距(margin)</b>\r\n     * 如果想要在检测时包括外边距, 需要先获取到外边距\r\n     * markdown内容滚动时触发\r\n     * 基于父元素的顶部位置, 判断当前浏览的标题内容\r\n     * 选出标题元素(h1 ~ h6)的顶部在父元素(class=markdown)顶部之上或相等的元素, 作为当前浏览的标题\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownComponent.prototype.markdownScroll = /**\r\n     * \\@description <b>元素的位置用\r\n     * [getBoundingClientRect()]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect}获取,\r\n     * 这个方法得到的矩形不会包括元素的外边距(margin)</b>\r\n     * 如果想要在检测时包括外边距, 需要先获取到外边距\r\n     * markdown内容滚动时触发\r\n     * 基于父元素的顶部位置, 判断当前浏览的标题内容\r\n     * 选出标题元素(h1 ~ h6)的顶部在父元素(class=markdown)顶部之上或相等的元素, 作为当前浏览的标题\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // 父元素顶部的坐标\r\n        /** @type {?} */\r\n        var baseOffsetTop = ((/** @type {?} */ (this.markdownBody.nativeElement))).getBoundingClientRect().top;\r\n        /** @type {?} */\r\n        var preRect;\r\n        /** @type {?} */\r\n        var curRect;\r\n        /** @type {?} */\r\n        var preMarginTop;\r\n        /** @type {?} */\r\n        var curMarginTop;\r\n        /** @type {?} */\r\n        var elem = this.headingElementRef.reduce((/**\r\n         * @param {?} previousValue\r\n         * @param {?} currentValue\r\n         * @return {?}\r\n         */\r\n        function (previousValue, currentValue) {\r\n            preRect = previousValue.getBoundingClientRect();\r\n            curRect = currentValue.getBoundingClientRect();\r\n            preMarginTop = _this.headingElementMarginTop[previousValue.id];\r\n            curMarginTop = _this.headingElementMarginTop[currentValue.id];\r\n            // 过滤在顶部之下的标题\r\n            if (curRect.top - baseOffsetTop - curMarginTop > 0) {\r\n                return previousValue;\r\n            }\r\n            // 找到距离顶部最近的标题\r\n            if ((curRect.top - baseOffsetTop - curMarginTop) > (preRect.top - baseOffsetTop - preMarginTop)) {\r\n                return currentValue;\r\n            }\r\n            else {\r\n                return previousValue;\r\n            }\r\n        }));\r\n        return elem.id;\r\n    };\r\n    /**\r\n     * 更新渲染后的html内容中的标题部分(h1 ~ h6)到headingElementRef\r\n     */\r\n    /**\r\n     * 更新渲染后的html内容中的标题部分(h1 ~ h6)到headingElementRef\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownComponent.prototype.updateHeadingInfo = /**\r\n     * 更新渲染后的html内容中的标题部分(h1 ~ h6)到headingElementRef\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _a;\r\n        /** @type {?} */\r\n        var nodeList = ((/** @type {?} */ (this.markdownBody.nativeElement))).querySelectorAll('h1, h2');\r\n        if (nodeList === undefined || nodeList === null) {\r\n            return;\r\n        }\r\n        this.headingElementRef.splice(0);\r\n        /** @type {?} */\r\n        var nodes = [];\r\n        for (var i = 0; i < nodeList.length; i++) {\r\n            /** @type {?} */\r\n            var value = (/** @type {?} */ (nodeList[i]));\r\n            // 提取element的样式\r\n            /** @type {?} */\r\n            var marginTop = this.getComputedStyle(value, 'margin-top');\r\n            this.headingElementMarginTop[value.id] = ParseUnit.checkUnit(marginTop).number;\r\n            nodes.push(value);\r\n        }\r\n        // Element.style.xxx只能读取行内样式\r\n        (_a = this.headingElementRef).push.apply(_a, __spread(nodes));\r\n    };\r\n    /**\r\n     * @param {?} element\r\n     * @param {?} property\r\n     * @param {?=} pseudoElt\r\n     * @return {?}\r\n     */\r\n    Ngr2MarkdownComponent.prototype.getComputedStyle = /**\r\n     * @param {?} element\r\n     * @param {?} property\r\n     * @param {?=} pseudoElt\r\n     * @return {?}\r\n     */\r\n    function (element, property, pseudoElt) {\r\n        return window.getComputedStyle(element, null).getPropertyValue(property);\r\n    };\r\n    Ngr2MarkdownComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-ngr2-markdown',\r\n                    template: \"<div class=\\\"main-panel\\\"\\r\\n     [style.height]=\\\"_options.height\\\"\\r\\n     nbDragAndDrop\\r\\n>\\r\\n  <nb-tool-bar class=\\\"tool-bar\\\"\\r\\n  ></nb-tool-bar>\\r\\n  <div class=\\\"content-panel content-container\\\"\\r\\n       nbDragAndDrop\\r\\n  >\\r\\n    <nb-file-browser class=\\\"file-browser-wrapper\\\"\\r\\n    >\\r\\n    </nb-file-browser>\\r\\n    <nb-edit-box *ngIf=\\\"_options.mode === 'edit'\\\"\\r\\n                 [ngClass]=\\\"'editor'\\\"\\r\\n    >\\r\\n    </nb-edit-box>\\r\\n    <nb-control-bar class=\\\"control-bar\\\"\\r\\n    >\\r\\n    </nb-control-bar>\\r\\n    <article #markdownBody\\r\\n             [ngClass]=\\\"[_options.bodyClassName]\\\"\\r\\n             [innerHTML]=\\\"_html | safe:'html'\\\"\\r\\n    >\\r\\n    </article>\\r\\n    <nb-menu class=\\\"menu\\\"\\r\\n    >\\r\\n    </nb-menu>\\r\\n  </div>\\r\\n  <nb-status-bar class=\\\"status-bar\\\"\\r\\n  ></nb-status-bar>\\r\\n</div>\\r\\n\",\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [\".main-panel{position:relative;display:flex;flex-direction:column;flex:1 1 auto;box-sizing:border-box}.markdown-body{flex:1;overflow-y:auto;box-sizing:border-box;margin:0 auto;padding:45px;min-width:200px;height:100%}.editor{flex:1;overflow-y:auto;box-sizing:border-box;margin:0 auto;min-width:200px;height:auto;display:flex;flex-direction:column}.content-container{display:flex;flex-direction:row}.side-toc-container{flex:0 auto;max-width:200px}.tool-bar{flex:0 0 25px;background-color:#d3d3d3}.content-panel{flex:1 1 auto;background-color:#a9a9a9}.status-bar{flex:0 0 15px;background-color:gray}.file-browser-wrapper{flex:0 0 200px;background-color:#696969}.control-bar{overflow:auto;flex:0 0 25px;background-color:#faebd7}.menu{flex:0 0 200px;background-color:#778899}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    Ngr2MarkdownComponent.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService }\r\n    ]; };\r\n    Ngr2MarkdownComponent.propDecorators = {\r\n        markdownBody: [{ type: ViewChild, args: ['markdownBody', {\r\n                        read: ElementRef\r\n                    },] }],\r\n        markdown: [{ type: Input }],\r\n        options: [{ type: Input }]\r\n    };\r\n    return Ngr2MarkdownComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SideTocComponent = /** @class */ (function () {\r\n    function SideTocComponent(markdownService) {\r\n        this.markdownService = markdownService;\r\n        this.themeColor = '#3f51b5';\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SideTocComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.markdownService.currentHeading.subscribe({\r\n            next: ((/**\r\n             * @param {?} value\r\n             * @return {?}\r\n             */\r\n            function (value) {\r\n                _this.currentHeading = value;\r\n            }))\r\n        });\r\n        this.markdownService.TOCInfo.subscribe({\r\n            next: ((/**\r\n             * @param {?} value\r\n             * @return {?}\r\n             */\r\n            function (value) {\r\n                _this.TOCInfo = value;\r\n            }))\r\n        });\r\n    };\r\n    SideTocComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-side-toc',\r\n                    template: \"<aside class=\\\"side-anchor-toc\\\">\\r\\n  <ol class=\\\"nav\\\">\\r\\n    <li *ngFor=\\\"let TOCItem of TOCInfo.children\\\"\\r\\n        [ngClass]=\\\"['item-level-' + TOCItem.indentLevel, 'nav-item', 'nav-item-active']\\\"\\r\\n    >\\r\\n      <a [href]=\\\"'#' + TOCItem.content\\\"\\r\\n         [ngClass]=\\\"['nav-item-link']\\\"\\r\\n         [ngStyle]=\\\"{'color': TOCItem.content === currentHeading ? themeColor : ''}\\\"\\r\\n      >\\r\\n        <span>{{ TOCItem.content }}</span>\\r\\n      </a>\\r\\n      <ol class=\\\"nav\\\">\\r\\n        <li *ngFor=\\\"let subItem of TOCItem.children\\\"\\r\\n            [ngClass]=\\\"['item-level-' + subItem.indentLevel, 'nav-item', 'nav-item-active']\\\"\\r\\n        >\\r\\n          <a [href]=\\\"'#' + subItem.content\\\"\\r\\n             [ngClass]=\\\"['nav-item-link']\\\"\\r\\n             [ngStyle]=\\\"{'color': subItem.content === currentHeading ? themeColor : ''}\\\"\\r\\n          >\\r\\n            <span>{{ subItem.content }}</span>\\r\\n          </a>\\r\\n        </li>\\r\\n      </ol>\\r\\n    </li>\\r\\n  </ol>\\r\\n</aside>\\r\\n\",\r\n                    styles: [\".side-anchor-toc{display:flex;flex-direction:column;font-size:14px;margin:0 auto;padding:10px;color:gray}.side-anchor-toc a{color:#696969}.nav{margin:0}.nav-item{line-height:1.8;cursor:pointer}.nav-item-link{text-decoration:none;outline:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SideTocComponent.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService }\r\n    ]; };\r\n    SideTocComponent.propDecorators = {\r\n        currentHeading: [{ type: Input }],\r\n        themeColor: [{ type: Input }]\r\n    };\r\n    return SideTocComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar HTMLPipePipe = /** @class */ (function () {\r\n    function HTMLPipePipe(domSanitizer) {\r\n        this.domSanitizer = domSanitizer;\r\n    }\r\n    /**\r\n     * use DomSanitizer allow insert outside HTML\r\n     * 使用DomSanitizer允许插入外部的HTML\r\n     * @param value - html content html内容\r\n     * @param args = 第一个参数是内容类型`html/url` 默认为 `html`\r\n     * @return - transformed html content html变换后的内容\r\n     */\r\n    /**\r\n     * use DomSanitizer allow insert outside HTML\r\n     * 使用DomSanitizer允许插入外部的HTML\r\n     * @param {?} value - html content html内容\r\n     * @param {...?} args = 第一个参数是内容类型`html/url` 默认为 `html`\r\n     * @return {?} - transformed html content html变换后的内容\r\n     */\r\n    HTMLPipePipe.prototype.transform = /**\r\n     * use DomSanitizer allow insert outside HTML\r\n     * 使用DomSanitizer允许插入外部的HTML\r\n     * @param {?} value - html content html内容\r\n     * @param {...?} args = 第一个参数是内容类型`html/url` 默认为 `html`\r\n     * @return {?} - transformed html content html变换后的内容\r\n     */\r\n    function (value) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        /** @type {?} */\r\n        var type = args[0];\r\n        switch (type) {\r\n            case 'html':\r\n                return this.domSanitizer.bypassSecurityTrustHtml(value);\r\n            case 'url':\r\n                return this.domSanitizer.bypassSecurityTrustUrl(value);\r\n            default:\r\n                return this.domSanitizer.bypassSecurityTrustHtml(value);\r\n        }\r\n    };\r\n    HTMLPipePipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'safe'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    HTMLPipePipe.ctorParameters = function () { return [\r\n        { type: DomSanitizer }\r\n    ]; };\r\n    return HTMLPipePipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MdPipe = /** @class */ (function () {\r\n    function MdPipe(markdownService) {\r\n        this.markdownService = markdownService;\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    MdPipe.prototype.transform = /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    function (value, args) {\r\n        return this.markdownService.render(value, { anchor: false });\r\n    };\r\n    MdPipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'md'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MdPipe.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService }\r\n    ]; };\r\n    return MdPipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ToolBarComponent = /** @class */ (function () {\r\n    function ToolBarComponent(markdownService) {\r\n        this.markdownService = markdownService;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ToolBarComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.titleSubscribe = this.markdownService.TOCInfo\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return _this.title = value.content; }));\r\n        /** @type {?} */\r\n        var MdFileOperator;\r\n        /** @type {?} */\r\n        var HTMLFileOperator;\r\n        this.hrefSubscribe = this.markdownService.currentContent\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (MdFileOperator) {\r\n                MdFileOperator.revokeDataURLSync();\r\n            }\r\n            if (HTMLFileOperator) {\r\n                HTMLFileOperator.revokeDataURLSync();\r\n            }\r\n            MdFileOperator = _this.markdownService.currentContentToDataUrl('markdown');\r\n            HTMLFileOperator = _this.markdownService.currentContentToDataUrl('html');\r\n            _this.mdHref = MdFileOperator.result;\r\n            _this.htmlHref = HTMLFileOperator.result;\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ToolBarComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.titleSubscribe.unsubscribe();\r\n        this.hrefSubscribe.unsubscribe();\r\n    };\r\n    ToolBarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-tool-bar',\r\n                    template: \"<a [download]=\\\"title + '.md'\\\"\\r\\n   [href]=\\\"mdHref | safe:'url'\\\"\\r\\n>\\r\\n  MD\\r\\n</a>\\r\\n<a [download]=\\\"title + '.html'\\\"\\r\\n   [href]=\\\"htmlHref | safe:'url'\\\"\\r\\n>\\r\\n  HTML\\r\\n</a>\\r\\n\",\r\n                    styles: [\"a{color:gray;text-decoration:none}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ToolBarComponent.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService }\r\n    ]; };\r\n    ToolBarComponent.propDecorators = {\r\n        download: [{ type: ViewChild, args: ['download', { read: ElementRef },] }]\r\n    };\r\n    return ToolBarComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar EditBoxComponent = /** @class */ (function () {\r\n    function EditBoxComponent(markdownService, el) {\r\n        this.markdownService = markdownService;\r\n        this.mdSubject = new Subject();\r\n        this._el = el.nativeElement;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    EditBoxComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this._editArea = this._el.querySelector('#editArea');\r\n        // const sk = new ShortcutKeyEvent(this._editArea);\r\n        // sk.copy()\r\n        //   .subscribe(value => console.log(value));\r\n        this.markdownService.observerResetMarkdown()\r\n            .subscribe((/**\r\n         * @param {?} md\r\n         * @return {?}\r\n         */\r\n        function (md) {\r\n            _this._editArea.innerText = md;\r\n        }));\r\n        this.bindMdService();\r\n        this.bindMutationObserver();\r\n    };\r\n    /**\r\n     * 订阅MarkdownService的一些Subject/Observable\r\n     */\r\n    /**\r\n     * 订阅MarkdownService的一些Subject/Observable\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EditBoxComponent.prototype.bindMdService = /**\r\n     * 订阅MarkdownService的一些Subject/Observable\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.markdownService.observerResetMarkdown()\r\n            .subscribe((/**\r\n         * @param {?} md\r\n         * @return {?}\r\n         */\r\n        function (md) {\r\n            _this._editArea.textContent = md;\r\n        }));\r\n        this.markdownService\r\n            .updateMarkdown(this.observeText(200));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?=} time\r\n     * @return {?}\r\n     */\r\n    EditBoxComponent.prototype.observeText = /**\r\n     * @private\r\n     * @param {?=} time\r\n     * @return {?}\r\n     */\r\n    function (time) {\r\n        if (!time) {\r\n            return this.mdSubject.asObservable();\r\n        }\r\n        return this.mdSubject\r\n            .pipe(distinctUntilChanged(), debounceTime(time));\r\n    };\r\n    /**\r\n     * 绑定并开启MutationObserver, 触发时将markdown文本发送到`mdSubject`\r\n     */\r\n    /**\r\n     * 绑定并开启MutationObserver, 触发时将markdown文本发送到`mdSubject`\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EditBoxComponent.prototype.bindMutationObserver = /**\r\n     * 绑定并开启MutationObserver, 触发时将markdown文本发送到`mdSubject`\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var _observer = new MutationObserver((/**\r\n         * @param {?} mutations\r\n         * @param {?} observer\r\n         * @return {?}\r\n         */\r\n        function (mutations, observer) {\r\n            _this.mdSubject.next(_this.getText());\r\n        }));\r\n        _observer.observe(this._editArea, {\r\n            subtree: true,\r\n            childList: true,\r\n            characterData: true,\r\n            characterDataOldValue: true\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EditBoxComponent.prototype.getText = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this._editArea.innerText;\r\n    };\r\n    EditBoxComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-edit-box',\r\n                    template: \"<div class=\\\"edit-box\\\"\\r\\n>\\r\\n  <!-- tool bar -->\\r\\n  <!-- \\u5DE5\\u5177\\u680F \\u6269\\u5C55\\u7528 -->\\r\\n  <div class=\\\"edit-tool-bar\\\"\\r\\n  >\\r\\n    edit tool bar\\r\\n  </div>\\r\\n  <!-- edit content -->\\r\\n  <!-- \\u7F16\\u8F91\\u6846 -->\\r\\n  <div id=\\\"editArea\\\"\\r\\n       class=\\\"edit-content\\\"\\r\\n       contenteditable=\\\"true\\\"\\r\\n  >\\r\\n  </div>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".edit-box{display:flex;flex-direction:column;height:100%}.edit-tool-bar{flex:0 0 25px}.edit-content{flex:auto;overflow:auto;overflow-wrap:break-word;outline:0;padding:20px;background-color:#fff}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    EditBoxComponent.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService },\r\n        { type: ElementRef }\r\n    ]; };\r\n    return EditBoxComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n// @dynamic\r\nvar IndexedDB = /** @class */ (function () {\r\n    function IndexedDB(dbName, objectStoreStructs, subscriber) {\r\n        if (dbName === void 0) { dbName = 'testDB'; }\r\n        if (objectStoreStructs === void 0) { objectStoreStructs = IndexedDB.O_S_STRUCT; }\r\n        var _this = this;\r\n        this.objectStoreStructs = objectStoreStructs;\r\n        /** @type {?} */\r\n        var request = window.indexedDB.open(dbName);\r\n        request.onerror = (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            alert('Database error: ' + ((/** @type {?} */ (event.target))).error);\r\n        });\r\n        request.onsuccess = (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            console.log(\"IndexedDB open success\");\r\n            _this._db = request.result;\r\n            subscriber.next(_this);\r\n        });\r\n        /**\r\n         * use to initial database\r\n         * @param event\r\n         */\r\n        request.onupgradeneeded = (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            console.log(\"IndexedDB upgrade need\");\r\n            _this._db = request.result;\r\n            _this.objectStoreStructs.forEach((/**\r\n             * @param {?} store\r\n             * @return {?}\r\n             */\r\n            function (store) {\r\n                /** @type {?} */\r\n                var objectStore = _this._db.createObjectStore(store.name, store.optionalParameters);\r\n                if (store.indexes) {\r\n                    store.indexes.forEach((/**\r\n                     * @param {?} index\r\n                     * @return {?}\r\n                     */\r\n                    function (index) {\r\n                        objectStore.createIndex(index.name, index.keyPath || index.name, index.options);\r\n                    }));\r\n                }\r\n            }));\r\n        });\r\n    }\r\n    /**\r\n     * @param {?=} dbName\r\n     * @param {?=} objectStoreStructs\r\n     * @return {?}\r\n     */\r\n    IndexedDB.instenceof = /**\r\n     * @param {?=} dbName\r\n     * @param {?=} objectStoreStructs\r\n     * @return {?}\r\n     */\r\n    function (dbName, objectStoreStructs) {\r\n        if (dbName === void 0) { dbName = 'testDB'; }\r\n        if (objectStoreStructs === void 0) { objectStoreStructs = IndexedDB.O_S_STRUCT; }\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var indexedDB = new IndexedDB(dbName, objectStoreStructs, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * get object store specify name and mode\r\n     * @param storeName\r\n     * @param mode\r\n     */\r\n    /**\r\n     * get object store specify name and mode\r\n     * @param {?} storeName\r\n     * @param {?} mode\r\n     * @return {?}\r\n     */\r\n    IndexedDB.prototype.getObjectStore = /**\r\n     * get object store specify name and mode\r\n     * @param {?} storeName\r\n     * @param {?} mode\r\n     * @return {?}\r\n     */\r\n    function (storeName, mode) {\r\n        return new IndexedDBStore(this._db.transaction(storeName, mode).objectStore(storeName));\r\n    };\r\n    IndexedDB.O_S_STRUCT = [\r\n        {\r\n            name: 'testStore',\r\n            optionalParameters: {\r\n                keyPath: 'id'\r\n            },\r\n            indexes: [\r\n                {\r\n                    name: 'storeName',\r\n                    keyPath: 'storeName',\r\n                    options: {\r\n                        unique: false\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ];\r\n    return IndexedDB;\r\n}());\r\nvar IndexedDBStore = /** @class */ (function () {\r\n    function IndexedDBStore(objectStore) {\r\n        this.objectStore = objectStore;\r\n    }\r\n    /**\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.add = /**\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = _this.objectStore.add(data);\r\n            _this.initRequest(request, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * return Observable object send IndexedDBEvent multiple time\r\n     * @param data - add to store object array\r\n     */\r\n    /**\r\n     * return Observable object send IndexedDBEvent multiple time\r\n     * @template T\r\n     * @param {?} data - add to store object array\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.addAll = /**\r\n     * return Observable object send IndexedDBEvent multiple time\r\n     * @template T\r\n     * @param {?} data - add to store object array\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var addObservables = data.map((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return _this.add(item); }));\r\n        return this._concat_scan.apply(this, __spread(addObservables));\r\n    };\r\n    /**\r\n     * return Observable object send IndexedDBEvent\r\n     * if IndexedDBEvent.type is IndexedDBEventType.SUCCESS then get data from IndexedDBEvent.data\r\n     * @param key\r\n     */\r\n    /**\r\n     * return Observable object send IndexedDBEvent\r\n     * if IndexedDBEvent.type is IndexedDBEventType.SUCCESS then get data from IndexedDBEvent.data\r\n     * @template T\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.getById = /**\r\n     * return Observable object send IndexedDBEvent\r\n     * if IndexedDBEvent.type is IndexedDBEventType.SUCCESS then get data from IndexedDBEvent.data\r\n     * @template T\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = _this.objectStore.get(key);\r\n            _this.initRequest(request, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * 兼容ie11-10, ie10不支持IndexedDB.getAll()方法, 用openCursor替代\r\n     * [IndexedDB.IDBObjectStore]{@link https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore}\r\n     */\r\n    /**\r\n     * 兼容ie11-10, ie10不支持IndexedDB.getAll()方法, 用openCursor替代\r\n     * [IndexedDB.IDBObjectStore]{\\@link https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore}\r\n     * @template T\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.getAll = /**\r\n     * 兼容ie11-10, ie10不支持IndexedDB.getAll()方法, 用openCursor替代\r\n     * [IndexedDB.IDBObjectStore]{\\@link https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore}\r\n     * @template T\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var observable = new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = _this.objectStore.openCursor();\r\n            request.onsuccess = (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) {\r\n                /** @type {?} */\r\n                var cursor = request.result;\r\n                if (cursor) {\r\n                    subscriber.next(new IndexedDBEvent(IndexedDBEventType.COMPLETE, 1, 1, cursor.value));\r\n                    cursor.continue();\r\n                }\r\n                else {\r\n                    subscriber.complete();\r\n                }\r\n            });\r\n            request.onerror = (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) {\r\n                subscriber.next(new IndexedDBEvent(IndexedDBEventType.ERROR, 0, 0));\r\n                subscriber.complete();\r\n            });\r\n            // this.initRequest<Array<T>>(request, subscriber);\r\n        }));\r\n        return this.getCount()\r\n            .pipe(mergeMap((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return _this._from_scan(observable, value.data); })));\r\n    };\r\n    /**\r\n     * return Observable object will send IndexedDBEvent multiple time\r\n     * will add T to IndexedDBEvent.data every time\r\n     * @param keys - ids\r\n     */\r\n    /**\r\n     * return Observable object will send IndexedDBEvent multiple time\r\n     * will add T to IndexedDBEvent.data every time\r\n     * @template T\r\n     * @param {...?} keys - ids\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.getAllById = /**\r\n     * return Observable object will send IndexedDBEvent multiple time\r\n     * will add T to IndexedDBEvent.data every time\r\n     * @template T\r\n     * @param {...?} keys - ids\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        var keys = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            keys[_i] = arguments[_i];\r\n        }\r\n        /** @type {?} */\r\n        var getObservables = keys.map((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return _this.getById(item); }));\r\n        return this._concat_scan.apply(this, __spread(getObservables));\r\n    };\r\n    /**\r\n     * like getAllById but parameter type is IDBIndex\r\n     * @param indexName - index name\r\n     */\r\n    /**\r\n     * like getAllById but parameter type is IDBIndex\r\n     * @template T\r\n     * @param {?} indexName - index name\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.getAllByIndex = /**\r\n     * like getAllById but parameter type is IDBIndex\r\n     * @template T\r\n     * @param {?} indexName - index name\r\n     * @return {?}\r\n     */\r\n    function (indexName) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var index = this.objectStore.index(indexName);\r\n        /** @type {?} */\r\n        var observable = new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = index.openCursor();\r\n            request.onsuccess = (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) {\r\n                /** @type {?} */\r\n                var cursor = request.result;\r\n                if (cursor) {\r\n                    subscriber.next(new IndexedDBEvent(IndexedDBEventType.COMPLETE, 1, 1, (/** @type {?} */ (cursor.value))));\r\n                    cursor.continue();\r\n                }\r\n                else {\r\n                    subscriber.complete();\r\n                }\r\n            });\r\n            request.onerror = (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) {\r\n                subscriber.next(new IndexedDBEvent(IndexedDBEventType.ERROR, 0, 0));\r\n                subscriber.complete();\r\n            });\r\n        }));\r\n        return this.getCount(index)\r\n            .pipe(mergeMap((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return _this._from_scan(observable, value.data); })));\r\n    };\r\n    /**\r\n     * return observable object send IndexedDBEvent\r\n     * if success IndexedDBEvent.data is updated object primary key\r\n     * @param data\r\n     */\r\n    /**\r\n     * return observable object send IndexedDBEvent\r\n     * if success IndexedDBEvent.data is updated object primary key\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.update = /**\r\n     * return observable object send IndexedDBEvent\r\n     * if success IndexedDBEvent.data is updated object primary key\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = _this.objectStore.put(data);\r\n            _this.initRequest(request, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * return observable object send IndexedDBEvent multiple time\r\n     * every time will add success updated object primary key to IndexedDBEvent.data\r\n     * @param data\r\n     */\r\n    /**\r\n     * return observable object send IndexedDBEvent multiple time\r\n     * every time will add success updated object primary key to IndexedDBEvent.data\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.updateAll = /**\r\n     * return observable object send IndexedDBEvent multiple time\r\n     * every time will add success updated object primary key to IndexedDBEvent.data\r\n     * @template T\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var updateObservables = data.map((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return _this.update(item); }));\r\n        return this._concat_scan.apply(this, __spread(updateObservables));\r\n    };\r\n    /**\r\n     * delete\r\n     * if success return IndexedDBEvent.data type is undefined\r\n     * @param key\r\n     */\r\n    /**\r\n     * delete\r\n     * if success return IndexedDBEvent.data type is undefined\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.delete = /**\r\n     * delete\r\n     * if success return IndexedDBEvent.data type is undefined\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = _this.objectStore.delete(key);\r\n            _this.initRequest(request, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {...?} keys\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.deleteAll = /**\r\n     * @param {...?} keys\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        var keys = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            keys[_i] = arguments[_i];\r\n        }\r\n        /** @type {?} */\r\n        var deleteObservables = keys.map((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return _this.delete(item); }));\r\n        return this._concat_scan.apply(this, __spread(deleteObservables));\r\n    };\r\n    /**\r\n     * return observable object send IndexedDBEvent, IndexedDBEvent.data is IDBObjectStore or IDBIndex contain element's count\r\n     * @param object\r\n     * @param key\r\n     */\r\n    /**\r\n     * return observable object send IndexedDBEvent, IndexedDBEvent.data is IDBObjectStore or IDBIndex contain element's count\r\n     * @param {?=} object\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.getCount = /**\r\n     * return observable object send IndexedDBEvent, IndexedDBEvent.data is IDBObjectStore or IDBIndex contain element's count\r\n     * @param {?=} object\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\r\n    function (object, key) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} subscriber\r\n         * @return {?}\r\n         */\r\n        function (subscriber) {\r\n            /** @type {?} */\r\n            var request = object === undefined ? _this.objectStore.count() : object.count();\r\n            _this.initRequest(request, subscriber);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @template T\r\n     * @param {?} request\r\n     * @param {?} subscriber\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype.initRequest = /**\r\n     * @private\r\n     * @template T\r\n     * @param {?} request\r\n     * @param {?} subscriber\r\n     * @return {?}\r\n     */\r\n    function (request, subscriber) {\r\n        request.onsuccess = (/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (request.result !== undefined) {\r\n                subscriber.next(new IndexedDBEvent(IndexedDBEventType.COMPLETE, 1, 1, request.result));\r\n            }\r\n            else {\r\n                subscriber.next(new IndexedDBEvent(IndexedDBEventType.ERROR, 0, 0));\r\n            }\r\n            subscriber.complete();\r\n        });\r\n        // request出错返回错误信息\r\n        request.onerror = (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            subscriber.next(new IndexedDBEvent(IndexedDBEventType.ERROR, 0, 0, request.error));\r\n            subscriber.complete();\r\n        });\r\n    };\r\n    /**\r\n     * create observable use rxjs from function then use scan operator\r\n     * return custom event(IndexedDBEvent)\r\n     * @param observable\r\n     * @param total\r\n     */\r\n    /**\r\n     * create observable use rxjs from function then use scan operator\r\n     * return custom event(IndexedDBEvent)\r\n     * @private\r\n     * @template T\r\n     * @param {?} observable\r\n     * @param {?} total\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype._from_scan = /**\r\n     * create observable use rxjs from function then use scan operator\r\n     * return custom event(IndexedDBEvent)\r\n     * @private\r\n     * @template T\r\n     * @param {?} observable\r\n     * @param {?} total\r\n     * @return {?}\r\n     */\r\n    function (observable, total) {\r\n        return observable\r\n            .pipe(scan((/**\r\n         * @param {?} acc\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (acc, value) {\r\n            if (value.type !== IndexedDBEventType.ERROR) {\r\n                acc.loaded++;\r\n                acc.data.push(value.data);\r\n                if (acc.loaded === acc.total) {\r\n                    acc.type = IndexedDBEventType.COMPLETE;\r\n                }\r\n            }\r\n            else {\r\n                acc.type = IndexedDBEventType.ERROR;\r\n                acc.loaded = 0;\r\n            }\r\n            return acc;\r\n        }), new IndexedDBEvent(IndexedDBEventType.PENDING, 0, total, new Array())));\r\n    };\r\n    /**\r\n     * connect observable use rxjs concat function(not Operator) then use scan operator\r\n     * return custom event(event: IndexedDBEvent)\r\n     * @param observables\r\n     */\r\n    /**\r\n     * connect observable use rxjs concat function(not Operator) then use scan operator\r\n     * return custom event(event: IndexedDBEvent)\r\n     * @private\r\n     * @template T\r\n     * @param {...?} observables\r\n     * @return {?}\r\n     */\r\n    IndexedDBStore.prototype._concat_scan = /**\r\n     * connect observable use rxjs concat function(not Operator) then use scan operator\r\n     * return custom event(event: IndexedDBEvent)\r\n     * @private\r\n     * @template T\r\n     * @param {...?} observables\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var observables = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            observables[_i] = arguments[_i];\r\n        }\r\n        /** @type {?} */\r\n        var total = observables.length;\r\n        return concat.apply(void 0, __spread(observables)).pipe(scan((/**\r\n         * @param {?} acc\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (acc, value) {\r\n            if (value.type !== IndexedDBEventType.ERROR) {\r\n                acc.loaded++;\r\n                acc.data.push(value.data);\r\n                if (acc.loaded === acc.total) {\r\n                    acc.type = IndexedDBEventType.COMPLETE;\r\n                }\r\n            }\r\n            else {\r\n                acc.type = IndexedDBEventType.ERROR;\r\n                acc.loaded = 0;\r\n            }\r\n            return acc;\r\n        }), new IndexedDBEvent(IndexedDBEventType.PENDING, 0, total, new Array())));\r\n    };\r\n    return IndexedDBStore;\r\n}());\r\n/**\r\n * IndexedDB function return value\r\n * use to flag IndexedDB event status and loaded status\r\n * @template T\r\n */\r\nvar /**\r\n * IndexedDB function return value\r\n * use to flag IndexedDB event status and loaded status\r\n * @template T\r\n */\r\nIndexedDBEvent = /** @class */ (function () {\r\n    function IndexedDBEvent(type, loaded, total, data) {\r\n        this.type = type;\r\n        this.loaded = loaded;\r\n        this.total = total;\r\n        this.data = data === undefined ? undefined : data;\r\n    }\r\n    return IndexedDBEvent;\r\n}());\r\n/** @enum {string} */\r\nvar IndexedDBEventType = {\r\n    PENDING: 'Pending',\r\n    SUCCESS: 'Success',\r\n    ERROR: 'Error',\r\n    COMPLETE: 'Complete',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FileBrowserComponent = /** @class */ (function () {\r\n    function FileBrowserComponent(markdownService, renderer) {\r\n        this.markdownService = markdownService;\r\n        this.renderer = renderer;\r\n        this.indexedDBStructs = [\r\n            {\r\n                name: 'markdown_article',\r\n                optionalParameters: {\r\n                    keyPath: 'id',\r\n                    autoIncrement: true\r\n                },\r\n                indexes: [\r\n                    {\r\n                        name: 'title',\r\n                        keyPath: 'title',\r\n                        options: {\r\n                            unique: false\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        /** @type {?} */\r\n        var inputAreaLi = renderer.createElement('LI');\r\n        this.renderer.addClass(inputAreaLi, 'fb-li');\r\n        this.renderer.addClass(inputAreaLi, 'fb-li_create');\r\n        // inputAreaLi.classList.add('fb-li', 'fb-li_create');\r\n        /** @type {?} */\r\n        var inputAreaI = renderer.createElement('I');\r\n        this.renderer.addClass(inputAreaI, 'material-icons');\r\n        this.renderer.addClass(inputAreaI, 'md-18');\r\n        this.renderer.addClass(inputAreaI, 'md-dark');\r\n        // inputAreaI.classList.add('material-icons', 'md-18', 'md-dark');\r\n        this.renderer.appendChild(inputAreaI, this.renderer.createText('edit'));\r\n        /** @type {?} */\r\n        var inputAreaInput = renderer.createElement('INPUT');\r\n        this.renderer.addClass(inputAreaInput, 'fb-li_create-input');\r\n        // inputAreaDiv.classList.add('fb-li_create-input');\r\n        this.renderer.setAttribute(inputAreaInput, 'contenteditable', 'true');\r\n        this.renderer.appendChild(inputAreaLi, inputAreaI);\r\n        this.renderer.appendChild(inputAreaLi, inputAreaInput);\r\n        this.inputArea = inputAreaLi;\r\n        /*tslint:disable-next-line*/\r\n        this.isConnect = false;\r\n        this.selectedArticles = {};\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        IndexedDB.instenceof('ngr2-markdown-db', this.indexedDBStructs)\r\n            .subscribe((/**\r\n         * @param {?} db\r\n         * @return {?}\r\n         */\r\n        function (db) {\r\n            _this.indexedDB = db;\r\n            _this.isConnect = true;\r\n            _this.refreshArticles();\r\n        }));\r\n        this.fileListArea = this.fileList.nativeElement;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.createFile = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var cloneEl = this.inputArea.cloneNode(true);\r\n        this.renderer.listen(cloneEl, 'keyup', (/**\r\n         * @param {?} ev\r\n         * @return {?}\r\n         */\r\n        function (ev) {\r\n            switch (ev.code) {\r\n                case 'Enter':\r\n                    _this.indexedDB\r\n                        .getObjectStore('markdown_article', 'readwrite')\r\n                        .add(new Article('ce', ((/** @type {?} */ (ev.target))).value))\r\n                        .subscribe((/**\r\n                     * @param {?} value\r\n                     * @return {?}\r\n                     */\r\n                    function (value) {\r\n                        _this.refreshArticles();\r\n                        _this.renderer.removeChild(_this.fileListArea, cloneEl);\r\n                    }));\r\n            }\r\n        }));\r\n        this.renderer.appendChild(this.fileListArea, cloneEl);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.createFolder = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        console.log('createFolder');\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.rename = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var cloneEl = this.inputArea.cloneNode(true);\r\n        /** @type {?} */\r\n        var id = Object.getOwnPropertyNames(this.selectedArticles)[0];\r\n        /** @type {?} */\r\n        var selected = this.selectedArticles[id];\r\n        this.renderer.listen(cloneEl, 'keyup', (/**\r\n         * @param {?} ev\r\n         * @return {?}\r\n         */\r\n        function (ev) {\r\n            switch (ev.code) {\r\n                case 'Enter':\r\n                    selected.data.title = ((/** @type {?} */ (ev.target))).value;\r\n                    _this.indexedDB\r\n                        .getObjectStore('markdown_article', 'readwrite')\r\n                        .update(selected.data)\r\n                        .subscribe((/**\r\n                     * @param {?} value\r\n                     * @return {?}\r\n                     */\r\n                    function (value) {\r\n                        _this.refreshArticles();\r\n                        _this.renderer.removeChild(_this.fileListArea, cloneEl);\r\n                        _this.selectedArticles[id] = null;\r\n                    }));\r\n            }\r\n        }));\r\n        this.fileListArea.replaceChild(cloneEl, selected.el);\r\n        ((/** @type {?} */ (cloneEl.lastChild))).focus();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.delete = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        var _a;\r\n        (_a = this.indexedDB.getObjectStore('markdown_article', 'readwrite')).deleteAll.apply(_a, __spread(Object.getOwnPropertyNames(this.selectedArticles)\r\n            .map((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return _this.selectedArticles[Number.parseInt(value, 10)].data.id; })))).subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return _this.refreshArticles(); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.close = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        console.log('close');\r\n    };\r\n    /**\r\n     * @param {?} el\r\n     * @param {?} article\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.select = /**\r\n     * @param {?} el\r\n     * @param {?} article\r\n     * @return {?}\r\n     */\r\n    function (el, article) {\r\n        console.log('select');\r\n        if (!this.selectedArticles[article.id.toString(10)]) {\r\n            this.selectedArticles[article.id.toString(10)] = { el: el, data: article };\r\n            el.classList.add('fb-li_selected');\r\n        }\r\n        else {\r\n            this.selectedArticles[article.id.toString(10)] = null;\r\n            el.classList.remove('fb-li_selected');\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} el\r\n     * @param {?} article\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.open = /**\r\n     * @param {?} el\r\n     * @param {?} article\r\n     * @return {?}\r\n     */\r\n    function (el, article) {\r\n        console.log('open');\r\n        this.markdownService.reinitialization(article.content);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FileBrowserComponent.prototype.refreshArticles = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.indexedDB.getObjectStore('markdown_article', 'readwrite')\r\n            .getAll()\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            _this.articles = value.data;\r\n        }));\r\n    };\r\n    FileBrowserComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-file-browser',\r\n                    template: \"<div class=\\\"file-browser\\\">\\r\\n  <header class=\\\"fb-header\\\"\\r\\n  >\\r\\n    <button class=\\\"fb-button fb-button_hover\\\"\\r\\n            (click)=\\\"createFile()\\\"\\r\\n    >\\r\\n      <i class=\\\"material-icons md-dark\\\">\\r\\n        note_add\\r\\n      </i>\\r\\n    </button>\\r\\n    <!--\\u521B\\u5EFA\\u6587\\u4EF6\\u5939\\u6682\\u65F6\\u4E0D\\u53EF\\u7528-->\\r\\n    <!--(click)=\\\"createFolder()\\\"-->\\r\\n    <button class=\\\"fb-button fb-button_disable\\\"\\r\\n            style=\\\"opacity: 0.5;\\\"\\r\\n    >\\r\\n      <i class=\\\"material-icons md-dark\\\">\\r\\n        create_new_folder\\r\\n      </i>\\r\\n    </button>\\r\\n    <button class=\\\"fb-button fb-button_hover\\\"\\r\\n            (click)=\\\"delete()\\\"\\r\\n    >\\r\\n      <i class=\\\"material-icons md-dark\\\">\\r\\n        delete\\r\\n      </i>\\r\\n    </button>\\r\\n    <button class=\\\"fb-button fb-button_hover\\\"\\r\\n            (click)=\\\"rename()\\\"\\r\\n    >\\r\\n      <i class=\\\"material-icons md-dark\\\">\\r\\n        edit\\r\\n      </i>\\r\\n    </button>\\r\\n    <button class=\\\"fb-button fb-button_hover fb-button_close\\\"\\r\\n            (click)=\\\"close()\\\"\\r\\n    >\\r\\n      <i class=\\\"material-icons md-dark\\\">\\r\\n        close\\r\\n      </i>\\r\\n    </button>\\r\\n  </header>\\r\\n  <aside class=\\\"fb-list\\\"\\r\\n  >\\r\\n    <ul class=\\\"fb-ul\\\"\\r\\n        #fileList\\r\\n    >\\r\\n      <li class=\\\"fb-li fb-li_hover\\\" *ngFor=\\\"let article of articles\\\"\\r\\n          (click)=\\\"select($any($event.currentTarget), article)\\\"\\r\\n          (dblclick)=\\\"open($any($event.currentTarget), article)\\\"\\r\\n      >\\r\\n        <i class=\\\"material-icons md-18 md-dark\\\">\\r\\n          insert_drive_file\\r\\n        </i>\\r\\n        <span>\\r\\n          {{ article.title }}\\r\\n        </span>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </aside>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".file-browser{display:flex;flex-direction:column;height:100%;background-color:#d3d3d3}.file-browser .fb-button{cursor:pointer;padding:1px 2px;margin:0;border:0;outline:0;height:100%;background-color:transparent}.file-browser .fb-button_hover:hover{background-color:rgba(0,0,0,.1)}.file-browser .fb-button_disable{cursor:default;opacity:.5}.file-browser .fb-button_close{float:right}.file-browser .fb-header{flex:0 0 30px;background-color:rgba(0,0,0,.1)}.file-browser .fb-list{flex:1 1 auto}.file-browser .fb-ul{list-style:none;margin:0;padding:2px}.file-browser .fb-li{display:flex;box-sizing:border-box;font-size:14px;width:190px;padding:2px;margin:3px;background-color:rgba(0,0,0,.05);border-radius:2px}.file-browser .fb-li_hover:hover{background-color:rgba(0,0,0,.1)}.file-browser .fb-li span{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-browser .fb-li_selected,.file-browser .fb-li_selected:hover{background-color:rgba(0,0,0,.2)}.file-browser .fb-li_create{background-color:#fff}.file-browser .fb-li_create-input{box-sizing:padding-box;width:163px;padding:0 0 0 5px;outline:0;border:none}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FileBrowserComponent.ctorParameters = function () { return [\r\n        { type: Ngr2MarkdownService },\r\n        { type: Renderer2 }\r\n    ]; };\r\n    FileBrowserComponent.propDecorators = {\r\n        fileList: [{ type: ViewChild, args: ['fileList', { read: ElementRef },] }]\r\n    };\r\n    return FileBrowserComponent;\r\n}());\r\nvar Article = /** @class */ (function () {\r\n    function Article(author, title, content) {\r\n        if (author === void 0) { author = Article.AUTHOR; }\r\n        if (title === void 0) { title = Article.TITLE; }\r\n        if (content === void 0) { content = Article.CONTENT; }\r\n        this.author = author;\r\n        this.title = title;\r\n        this.content = content;\r\n        this.createTime = new Date();\r\n        this.lastModifiedTime = this.createTime;\r\n    }\r\n    Article.AUTHOR = 'Author';\r\n    Article.TITLE = 'Default Title';\r\n    Article.CONTENT = '# Default Title';\r\n    return Article;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar StatusBarComponent = /** @class */ (function () {\r\n    function StatusBarComponent() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    StatusBarComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    StatusBarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-status-bar',\r\n                    template: \"status bar\\r\\n\",\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    StatusBarComponent.ctorParameters = function () { return []; };\r\n    return StatusBarComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ControlBarComponent = /** @class */ (function () {\r\n    function ControlBarComponent() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ControlBarComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    ControlBarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-control-bar',\r\n                    template: \"control bar\\r\\n\",\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ControlBarComponent.ctorParameters = function () { return []; };\r\n    return ControlBarComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MenuComponent = /** @class */ (function () {\r\n    function MenuComponent() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MenuComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    MenuComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'nb-menu',\r\n                    template: \"menu\\r\\n\",\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MenuComponent.ctorParameters = function () { return []; };\r\n    return MenuComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar DragAndDropEventType = {\r\n    DRAG_START: 'dragstart',\r\n    DRAG: 'drag',\r\n    DRAG_END: 'dragend',\r\n    DRAG_ENTER: 'dragenter',\r\n    DRAG_OVER: 'dragover',\r\n    DRAG_LEAVE: 'dragleave',\r\n    DROP: 'drop',\r\n};\r\n// @dynamic\r\nvar DragAndDropEvent = /** @class */ (function () {\r\n    /*tslint:enable*/\r\n    // listeners: { [key: string]: (event: DragEvent) => void | boolean };\r\n    // ondragstart:  (event: DragEvent) => void | boolean;\r\n    // ondrag:       (event: DragEvent) => void | boolean;\r\n    // ondragend:    (event: DragEvent) => void | boolean;\r\n    // ondragenter:  (event: DragEvent) => void | boolean;\r\n    // ondragover:   (event: DragEvent) => void | boolean;\r\n    // ondragleave:  (event: DragEvent) => void | boolean;\r\n    // ondrop:       (event: DragEvent) => void | boolean;\r\n    function DragAndDropEvent(el, eventOptions, interceptor) {\r\n        if (eventOptions === void 0) { eventOptions = DragAndDropEvent.ALL_OPTIONS; }\r\n        this.el = el;\r\n        this.options = eventOptions;\r\n        this.observable = this.initEvent(interceptor);\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?=} interceptor\r\n     * @return {?}\r\n     */\r\n    DragAndDropEvent.prototype.initEvent = /**\r\n     * @private\r\n     * @param {?=} interceptor\r\n     * @return {?}\r\n     */\r\n    function (interceptor) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var observables = Object.getOwnPropertyNames(this.options)\r\n            .reduce((/**\r\n         * @param {?} previousValue\r\n         * @param {?} currentValue\r\n         * @return {?}\r\n         */\r\n        function (previousValue, currentValue) {\r\n            /** @type {?} */\r\n            var option = _this.options[currentValue];\r\n            /** @type {?} */\r\n            var eventObservable = _this.addEventListener(_this.el, option);\r\n            eventObservable = _this.addListenFunction(eventObservable, option);\r\n            previousValue.push(eventObservable);\r\n            return previousValue;\r\n        }), []);\r\n        return merge.apply(void 0, __spread(observables));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} el\r\n     * @param {?} option\r\n     * @param {?=} resultSelector\r\n     * @return {?}\r\n     */\r\n    DragAndDropEvent.prototype.addEventListener = /**\r\n     * @private\r\n     * @param {?} el\r\n     * @param {?} option\r\n     * @param {?=} resultSelector\r\n     * @return {?}\r\n     */\r\n    function (el, option, resultSelector) {\r\n        if (resultSelector === void 0) { resultSelector = ((/**\r\n         * @param {?} args\r\n         * @return {?}\r\n         */\r\n        function (args) { return args; })); }\r\n        /** @type {?} */\r\n        var observable = fromEvent(el, option.eventType, option.eventOptions, resultSelector);\r\n        observable = this.eventOptions(observable, option);\r\n        observable = this.streamOperator(observable, option);\r\n        return observable;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    DragAndDropEvent.prototype.addListenFunction = /**\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    function (observable, option) {\r\n        if (!option.listener) {\r\n            return observable;\r\n        }\r\n        return observable.pipe(tap(option.listener));\r\n    };\r\n    /**\r\n     * 根据option设置Event对象上的方法或属性\r\n     * @param observable\r\n     * @param option\r\n     */\r\n    /**\r\n     * 根据option设置Event对象上的方法或属性\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    DragAndDropEvent.prototype.eventOptions = /**\r\n     * 根据option设置Event对象上的方法或属性\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    function (observable, option) {\r\n        return observable\r\n            .pipe(map((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            if (option.preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n            if (option.stopPropagation) {\r\n                event.stopPropagation();\r\n                event.cancelBubble = true;\r\n            }\r\n            return event;\r\n        })));\r\n    };\r\n    /**\r\n     * 根据option对事件流进行option中设置操作\r\n     * @param observable\r\n     * @param option\r\n     */\r\n    /**\r\n     * 根据option对事件流进行option中设置操作\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    DragAndDropEvent.prototype.streamOperator = /**\r\n     * 根据option对事件流进行option中设置操作\r\n     * @private\r\n     * @param {?} observable\r\n     * @param {?} option\r\n     * @return {?}\r\n     */\r\n    function (observable, option) {\r\n        if (!option.operatorOptions) {\r\n            return observable;\r\n        }\r\n        /** @type {?} */\r\n        var operator = option.operatorOptions;\r\n        if (operator.throttleTime && operator.throttleTime > 0) {\r\n            observable = observable\r\n                .pipe(throttleTime(operator.throttleTime));\r\n        }\r\n        if (operator.filter) {\r\n            observable = observable\r\n                .pipe(filter(operator.filter));\r\n        }\r\n        return observable;\r\n    };\r\n    /* tslint:disable */\r\n    DragAndDropEvent.defaultFun = (/**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) { console.group('on ' + event.type); console.groupEnd(); });\r\n    DragAndDropEvent.ALL_OPTIONS = {\r\n        'dragstart': {\r\n            eventType: DragAndDropEventType.DRAG_START,\r\n            listener: DragAndDropEvent.defaultFun\r\n        },\r\n        'drag': {\r\n            eventType: DragAndDropEventType.DRAG,\r\n            listener: DragAndDropEvent.defaultFun,\r\n            operatorOptions: {\r\n                throttleTime: 1000\r\n            }\r\n        },\r\n        'dragend': {\r\n            eventType: DragAndDropEventType.DRAG_END,\r\n            listener: DragAndDropEvent.defaultFun,\r\n        },\r\n        'dragenter': {\r\n            eventType: DragAndDropEventType.DRAG_ENTER,\r\n            listener: DragAndDropEvent.defaultFun,\r\n            preventDefault: true\r\n        },\r\n        'dragover': {\r\n            eventType: DragAndDropEventType.DRAG_OVER,\r\n            listener: DragAndDropEvent.defaultFun,\r\n            operatorOptions: {\r\n                throttleTime: 100\r\n            },\r\n            preventDefault: true\r\n        },\r\n        'drop': {\r\n            eventType: DragAndDropEventType.DROP,\r\n            listener: DragAndDropEvent.defaultFun\r\n        }\r\n    };\r\n    return DragAndDropEvent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DragAndDropElement = /** @class */ (function () {\r\n    function DragAndDropElement(element, parentContainer, elementStyle, demoStyle) {\r\n        if (elementStyle === void 0) { elementStyle = DragAndDropElement.ELEMENT_STYLE; }\r\n        if (demoStyle === void 0) { demoStyle = DragAndDropElement.DEMO_STYLE; }\r\n        var _this = this;\r\n        // 右上, 左上, 左下, 右下分别对应的角度值\r\n        this.diagonal = {\r\n            RT_ANGLE: Math.PI / 4,\r\n            LT_ANGLE: Math.PI / 4 * 3,\r\n            LB_ANGLE: Math.PI / 4 * 3 * -1,\r\n            RB_ANGLE: Math.PI / 4 * -1\r\n        };\r\n        this._el = element || null;\r\n        this.parentContainer = parentContainer || null;\r\n        this._parent = this._el && this._el.parentElement || null;\r\n        this.clone = this._el && ((/** @type {?} */ (this._el.cloneNode(true)))) || null;\r\n        Object.getOwnPropertyNames(elementStyle)\r\n            .forEach((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            _this._el.style[value] = elementStyle[value];\r\n        }));\r\n        Object.getOwnPropertyNames(demoStyle)\r\n            .forEach((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            _this.clone.style[value] = demoStyle[value];\r\n        }));\r\n        // set draggable property\r\n        this._el.draggable = true;\r\n        // add drag and drop event handler\r\n        this._dadEvent = new DragAndDropEvent(this._el, {\r\n            'dragstart': {\r\n                eventType: DragAndDropEventType.DRAG_START,\r\n                stopPropagation: true,\r\n                listener: this.ondragstart.bind(this)\r\n            },\r\n            'drag': {\r\n                eventType: DragAndDropEventType.DRAG,\r\n                stopPropagation: true,\r\n                listener: this.ondrag.bind(this),\r\n                operatorOptions: {\r\n                    throttleTime: 1000\r\n                }\r\n            },\r\n            'dragend': {\r\n                eventType: DragAndDropEventType.DRAG_END,\r\n                stopPropagation: true,\r\n                listener: this.ondragend.bind(this),\r\n            },\r\n            'dragenter': {\r\n                eventType: DragAndDropEventType.DRAG_ENTER,\r\n                listener: this.ondragenter.bind(this),\r\n                preventDefault: true,\r\n                operatorOptions: {\r\n                    filter: (/**\r\n                     * @param {?} event\r\n                     * @return {?}\r\n                     */\r\n                    function (event) {\r\n                        if (!_this.parentContainer.equals(event)) {\r\n                            return false;\r\n                        }\r\n                        return _this._el !== _this.parentContainer.getDragElement()._el && _this._el === event.target;\r\n                    })\r\n                }\r\n            },\r\n            'dragover': {\r\n                eventType: DragAndDropEventType.DRAG_OVER,\r\n                listener: this.ondragover.bind(this),\r\n                operatorOptions: {\r\n                    throttleTime: 100,\r\n                    filter: (/**\r\n                     * @param {?} event\r\n                     * @return {?}\r\n                     */\r\n                    function (event) {\r\n                        if (!_this.parentContainer.equals(event)) {\r\n                            return false;\r\n                        }\r\n                        return _this._el !== _this.parentContainer.getDragElement()._el;\r\n                    })\r\n                },\r\n                preventDefault: true\r\n            },\r\n            'drop': {\r\n                eventType: DragAndDropEventType.DROP,\r\n                stopPropagation: true,\r\n                listener: this.ondrop.bind(this)\r\n            }\r\n        });\r\n        this._dadEvent.observable\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { }));\r\n        // initial\r\n        this.status = 'none';\r\n        /** @type {?} */\r\n        var rect = this.clientRect;\r\n        this.centerPoint = new Point((rect.left + rect.width / 2), (rect.top + rect.height / 2));\r\n    }\r\n    Object.defineProperty(DragAndDropElement.prototype, \"clientRect\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._el.getBoundingClientRect();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @deprecated\r\n     */\r\n    /**\r\n     * @deprecated\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.reset = /**\r\n     * @deprecated\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.transitDemonstrationFinish(this.parentContainer.getDragElement());\r\n    };\r\n    /**\r\n     * drag start\r\n     * 用户开始拖动本元素时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag start\r\n     * 用户开始拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragstart = /**\r\n     * drag start\r\n     * 用户开始拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drop start');\r\n        this.status = 'drag';\r\n        this.parentContainer.setDragElement(this, ev);\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drag\r\n     * 用户正在拖动本元素时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag\r\n     * 用户正在拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondrag = /**\r\n     * drag\r\n     * 用户正在拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drag');\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drag end\r\n     * 用户结束拖动本元素时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag end\r\n     * 用户结束拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragend = /**\r\n     * drag end\r\n     * 用户结束拖动本元素时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drag end');\r\n        this.status = 'none';\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drag enter\r\n     * 当另一个被拖动的元素, 进入本元素的容器范围时触发\r\n     * [目标放置说明]{@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#droptargets}\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag enter\r\n     * 当另一个被拖动的元素, 进入本元素的容器范围时触发\r\n     * [目标放置说明]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#droptargets}\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragenter = /**\r\n     * drag enter\r\n     * 当另一个被拖动的元素, 进入本元素的容器范围时触发\r\n     * [目标放置说明]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#droptargets}\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        if (!(this.parentContainer.getDragElement()._parent === this._parent && this._el === ev.target)) {\r\n            return;\r\n        }\r\n        if (this._el === this.parentContainer.getDragElement()._el) {\r\n            return;\r\n        }\r\n        console.group('on drag enter');\r\n        this.status = 'drop';\r\n        this.parentContainer.setDropElement(this);\r\n        /** @type {?} */\r\n        var rect = this.clientRect;\r\n        this.diagonal.RT_ANGLE = Math.atan2(rect.height / 2, rect.width / 2);\r\n        this.diagonal.LT_ANGLE = Math.PI - this.diagonal.RT_ANGLE;\r\n        this.diagonal.LB_ANGLE = -this.diagonal.LT_ANGLE;\r\n        this.diagonal.RB_ANGLE = -this.diagonal.RT_ANGLE;\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drag over\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag over\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragover = /**\r\n     * drag over\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drag over');\r\n        this.transitDemonstration(this.parentContainer.getDragElement(), new Point(ev.clientX, ev.clientY));\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * @deprecated\r\n     * drag leave\r\n     * 当另一个被拖动的元素, 离开本元素的容器范围时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * @deprecated\r\n     * drag leave\r\n     * 当另一个被拖动的元素, 离开本元素的容器范围时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragleave = /**\r\n     * @deprecated\r\n     * drag leave\r\n     * 当另一个被拖动的元素, 离开本元素的容器范围时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drag leave');\r\n        this.status = 'none';\r\n        this.transitDemonstrationFinish(this.parentContainer.getDragElement());\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drag exit\r\n     * 当本元素变得不再可拖动时触发\r\n     * @deprecated\r\n     * [未被任何浏览器实现]{@link https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragexit_event}\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drag exit\r\n     * 当本元素变得不再可拖动时触发\r\n     * @deprecated\r\n     * [未被任何浏览器实现]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragexit_event}\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondragexit = /**\r\n     * drag exit\r\n     * 当本元素变得不再可拖动时触发\r\n     * @deprecated\r\n     * [未被任何浏览器实现]{\\@link https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragexit_event}\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drag exit');\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * drop\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内释放鼠标时触发\r\n     * @param ev - emit event\r\n     */\r\n    /**\r\n     * drop\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内释放鼠标时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.ondrop = /**\r\n     * drop\r\n     * 当另一个被拖动的元素, 在本元素的容器范围内释放鼠标时触发\r\n     * @private\r\n     * @param {?} ev - emit event\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        console.group('on drop');\r\n        this.status = 'drop';\r\n        this.replaceElement(this.parentContainer.getDragElement()._el, this.parentContainer.getDragElement().clone);\r\n        console.groupEnd();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.insertBefore = /**\r\n     * @private\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    function (el) {\r\n        return this._parent.insertBefore(el, this._el);\r\n    };\r\n    /**\r\n     * `nextElementSibling`: ie8,ie9,safari不兼容\r\n     * 见: https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\r\n     * @param el - insert element\r\n     * @return - return inserted element\r\n     */\r\n    /**\r\n     * `nextElementSibling`: ie8,ie9,safari不兼容\r\n     * 见: https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\r\n     * @private\r\n     * @param {?} el - insert element\r\n     * @return {?} - return inserted element\r\n     */\r\n    DragAndDropElement.prototype.insertAfter = /**\r\n     * `nextElementSibling`: ie8,ie9,safari不兼容\r\n     * 见: https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\r\n     * @private\r\n     * @param {?} el - insert element\r\n     * @return {?} - return inserted element\r\n     */\r\n    function (el) {\r\n        if (!this._el.nextElementSibling) {\r\n            return this._parent.appendChild(el);\r\n        }\r\n        return this._parent.insertBefore(el, this._el.nextElementSibling);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.computeDirection = /**\r\n     * @private\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    function (point) {\r\n        this.centerPoint = new Point((this.clientRect.left + this.clientRect.width / 2), (this.clientRect.top + this.clientRect.height / 2));\r\n        point.relaitiveTo(this.centerPoint);\r\n        /** @type {?} */\r\n        var angle = Math.atan2(point.Y, point.X);\r\n        if (angle >= this.diagonal.RT_ANGLE && angle < this.diagonal.LT_ANGLE) {\r\n            return 'top';\r\n        }\r\n        else if (angle >= this.diagonal.LT_ANGLE || angle < this.diagonal.LB_ANGLE) {\r\n            return 'left';\r\n        }\r\n        else if (angle >= this.diagonal.LB_ANGLE && angle < this.diagonal.RB_ANGLE) {\r\n            return 'bottom';\r\n        }\r\n        else {\r\n            return 'right';\r\n        }\r\n    };\r\n    /**\r\n     * 演示鼠标拖动元素释放后的状态\r\n     */\r\n    /**\r\n     * 演示鼠标拖动元素释放后的状态\r\n     * @private\r\n     * @param {?} draggedEl\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.transitDemonstration = /**\r\n     * 演示鼠标拖动元素释放后的状态\r\n     * @private\r\n     * @param {?} draggedEl\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    function (draggedEl, point) {\r\n        /** @type {?} */\r\n        var dir = this.computeDirection(point);\r\n        if (dir === 'top' || dir === 'left') {\r\n            this.insertBefore(draggedEl._el);\r\n        }\r\n        else if (dir === 'bottom' || dir === 'right') {\r\n            this.insertAfter(draggedEl._el);\r\n        }\r\n        console.log(dir);\r\n    };\r\n    /**\r\n     * 演示结束, 移除元素\r\n     */\r\n    /**\r\n     * 演示结束, 移除元素\r\n     * @private\r\n     * @param {?} dragElement\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.transitDemonstrationFinish = /**\r\n     * 演示结束, 移除元素\r\n     * @private\r\n     * @param {?} dragElement\r\n     * @return {?}\r\n     */\r\n    function (dragElement) {\r\n        this.removeElement(dragElement._el);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.removeElement = /**\r\n     * @private\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    function (el) {\r\n        for (var i = 0; i < this._parent.children.length; i++) {\r\n            if (this._parent.children[i] === el) {\r\n                this._parent.removeChild(el);\r\n                return el;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} newEl\r\n     * @param {?} oldEl\r\n     * @return {?}\r\n     */\r\n    DragAndDropElement.prototype.replaceElement = /**\r\n     * @private\r\n     * @param {?} newEl\r\n     * @param {?} oldEl\r\n     * @return {?}\r\n     */\r\n    function (newEl, oldEl) {\r\n        for (var i = 0; i < this._parent.children.length; i++) {\r\n            if (this._parent.children[i] === oldEl) {\r\n                this._parent.replaceChild(newEl, oldEl);\r\n                return oldEl;\r\n            }\r\n        }\r\n    };\r\n    DragAndDropElement.ELEMENT_STYLE = {\r\n    // cursor: 'grab'\r\n    };\r\n    DragAndDropElement.DEMO_STYLE = {\r\n        opacity: '0.5'\r\n    };\r\n    return DragAndDropElement;\r\n}());\r\nvar Point = /** @class */ (function () {\r\n    function Point(X, Y) {\r\n        this.X = X || null;\r\n        this.Y = Y || null;\r\n    }\r\n    /**\r\n     * @param {?} relato\r\n     * @return {?}\r\n     */\r\n    Point.prototype.relaitiveTo = /**\r\n     * @param {?} relato\r\n     * @return {?}\r\n     */\r\n    function (relato) {\r\n        this.X -= relato.X;\r\n        this.Y = relato.Y - this.Y;\r\n    };\r\n    return Point;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DragAndDropContainer = /** @class */ (function () {\r\n    function DragAndDropContainer(element) {\r\n        this._el = element || null;\r\n        this._children = element.children || null;\r\n        this.DADChildren = [];\r\n        for (var i = 0; i < this._children.length; i++) {\r\n            /** @type {?} */\r\n            var el = new DragAndDropElement(((/** @type {?} */ (this._children[i]))), this);\r\n            this.DADChildren.push(el);\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} dragEl\r\n     * @param {?} ev\r\n     * @return {?}\r\n     */\r\n    DragAndDropContainer.prototype.setDragElement = /**\r\n     * @param {?} dragEl\r\n     * @param {?} ev\r\n     * @return {?}\r\n     */\r\n    function (dragEl, ev) {\r\n        this._dragEl = dragEl;\r\n        this.id = new Date().getTime();\r\n        ev.dataTransfer.setData('text/containerid:' + this.id.toString(10), this.id.toString(10));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DragAndDropContainer.prototype.getDragElement = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this._dragEl;\r\n    };\r\n    /**\r\n     * @param {?} dropEl\r\n     * @return {?}\r\n     */\r\n    DragAndDropContainer.prototype.setDropElement = /**\r\n     * @param {?} dropEl\r\n     * @return {?}\r\n     */\r\n    function (dropEl) {\r\n        this._dropEl = dropEl;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DragAndDropContainer.prototype.getDropElement = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this._dropEl;\r\n    };\r\n    /**\r\n     * @param {?} ev\r\n     * @return {?}\r\n     */\r\n    DragAndDropContainer.prototype.equals = /**\r\n     * @param {?} ev\r\n     * @return {?}\r\n     */\r\n    function (ev) {\r\n        /** @type {?} */\r\n        var id = ev.dataTransfer.types[ev.dataTransfer.types.length - 1];\r\n        if (!id) {\r\n            return false;\r\n        }\r\n        id = id.split(':')[1];\r\n        return this.id === Number.parseInt(id, 10);\r\n    };\r\n    return DragAndDropContainer;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DragAndDropDirective = /** @class */ (function () {\r\n    function DragAndDropDirective(el) {\r\n        this.el = el;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.DADContainer = new DragAndDropContainer(this.el.nativeElement);\r\n    };\r\n    DragAndDropDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[nbDragAndDrop]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    DragAndDropDirective.ctorParameters = function () { return [\r\n        { type: ElementRef }\r\n    ]; };\r\n    return DragAndDropDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar Ngr2MarkdownModule = /** @class */ (function () {\r\n    function Ngr2MarkdownModule() {\r\n    }\r\n    Ngr2MarkdownModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [\r\n                        Ngr2MarkdownComponent,\r\n                        SideTocComponent,\r\n                        HTMLPipePipe,\r\n                        MdPipe,\r\n                        ToolBarComponent,\r\n                        EditBoxComponent,\r\n                        FileBrowserComponent,\r\n                        StatusBarComponent,\r\n                        ControlBarComponent,\r\n                        MenuComponent,\r\n                        DragAndDropDirective\r\n                    ],\r\n                    imports: [\r\n                        BrowserModule\r\n                    ],\r\n                    exports: [\r\n                        Ngr2MarkdownComponent,\r\n                        SideTocComponent,\r\n                        MdPipe\r\n                    ]\r\n                },] }\r\n    ];\r\n    return Ngr2MarkdownModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { Ngr2MarkdownService, EditorOption, TOCItem, Ngr2MarkdownComponent, Ngr2MarkdownModule, ControlBarComponent as ɵh, DragAndDropDirective as ɵj, EditBoxComponent as ɵe, FileBrowserComponent as ɵf, MenuComponent as ɵi, HTMLPipePipe as ɵb, MdPipe as ɵc, SideTocComponent as ɵa, StatusBarComponent as ɵg, ToolBarComponent as ɵd };\n\n//# sourceMappingURL=ngr2-markdown.js.map","import {fromEvent, merge, Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\n\r\nexport class FileOperatorImpl implements FileOperator {\r\n  result: string;\r\n  private fileReader = new FileReader();\r\n  toDataURL(fileOrBlob: File | Blob): Observable<FileProgressEvent> {\r\n    this.fileReader.readAsDataURL(fileOrBlob);\r\n    return this.mergeFileReader(this.fileReader);\r\n  }\r\n\r\n  toText(fileOrBlob: File | Blob, encoding?: string): Observable<FileProgressEvent> {\r\n    this.fileReader.readAsText(fileOrBlob, encoding);\r\n    return this.mergeFileReader(this.fileReader);\r\n  }\r\n\r\n  toArrayBuffer(fileOrBlob: File | Blob): Observable<FileProgressEvent> {\r\n    this.fileReader.readAsArrayBuffer(fileOrBlob);\r\n    return this.mergeFileReader(this.fileReader);\r\n  }\r\n\r\n  toDataURLSync(fileOrBlob: File | Blob): string {\r\n    this.result = window.URL.createObjectURL(fileOrBlob);\r\n    return this.result;\r\n  }\r\n\r\n  revokeDataURLSync(): void {\r\n    window.URL.revokeObjectURL(this.result);\r\n  }\r\n\r\n  private mergeFileReader(fileReader: FileReader): Observable<FileProgressEvent> {\r\n    return merge(...[fromEvent(fileReader, 'load'),\r\n      fromEvent(fileReader, 'loadstart'),\r\n      fromEvent(fileReader, 'loadend'),\r\n      fromEvent(fileReader, 'progress'),\r\n      fromEvent(fileReader, 'error'),\r\n      fromEvent(fileReader, 'abort')])\r\n      .pipe(\r\n        map((value: ProgressEvent): FileProgressEvent => {\r\n          return Object.assign(value, {\r\n            result: fileReader.result || '',\r\n            error: fileReader.error || null\r\n          });\r\n        })\r\n      );\r\n  }\r\n}\r\n\r\nexport interface FileOperator {\r\n  toDataURL(fileOrBlob: File | Blob): Observable<FileProgressEvent>;\r\n  toText(fileOrBlob: File | Blob, encoding?: string): Observable<FileProgressEvent>;\r\n  toArrayBuffer(fileOrBlob: File | Blob): Observable<FileProgressEvent>;\r\n  toDataURLSync(fileOrBlob: File | Blob): string;\r\n  revokeDataURLSync(): void;\r\n}\r\n\r\nexport interface FileProgressEvent extends ProgressEvent {\r\n  result?: string | ArrayBuffer | null;\r\n  error?: DOMException | null;\r\n}\r\n","// import * as MarkdownIt from 'markdown-it';\r\n// 如上用TS的@types包装引入在ie11中无法兼容, 在打包出来的vendor.js中会有一行使用了箭头函数的代码报(语法错误)\r\n// 直接引入markdown-it.min.js可以避免\r\nimport * as MarkdownIt from 'node_modules/markdown-it/dist/markdown-it.min.js';\r\nimport {Observable, Observer} from 'rxjs';\r\nimport * as hljs from 'highlight.js';\r\n\r\nexport class MarkdownImpl implements Markdown {\r\n  markdownIt: MarkdownIt;\r\n\r\n  constructor() {\r\n    this.markdownIt = new MarkdownIt({\r\n      highlight: (str: string, lang: string) => {\r\n        if (lang && hljs.getLanguage(lang)) {\r\n          try {\r\n            return '<pre class=\"hljs\"><code>' +\r\n              hljs.highlight(lang, str).value +\r\n              '</code></pre>';\r\n          } catch (__) {}\r\n        }\r\n        return '<pre class=\"hljs\"><code>' + this.markdownIt.utils.escapeHtml(str) + '</code>';\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * render markdown text function\r\n   * 渲染函数\r\n   * @param markdown - markdown format text - markdown格式的文本\r\n   * @param options - use to open or close plugins\r\n   * @return - return transformation html - 返回渲染后的html\r\n   */\r\n  render(markdown: string, options?: MarkdownOption) {\r\n    this.disable(options);\r\n    const html = this.markdownIt.render(markdown);\r\n    this.enable(options);\r\n    return html;\r\n  }\r\n\r\n  /**\r\n   * fn: 传入的方法可以对md的内容进行处理, 处理结果由subject发出\r\n   * fn.md: Markdown对象内容都在里面\r\n   * fm.subject: 观察者, 处理结果由此传出\r\n   * @param fn\r\n   */\r\n  use<T>(fn: (md: MarkdownIt, subject: Observer<T>) => void): Observable<T> {\r\n    const md = this.markdownIt;\r\n    const observable = new Observable<T>(function (subscriber) {\r\n      md.use(fn, subscriber);\r\n    });\r\n    return observable;\r\n  }\r\n\r\n  enable(option: MarkdownOption) {\r\n    if (!option) { return; }\r\n    const enableRules = Object.keys(option).filter((value => {\r\n      return !option[value];\r\n    }));\r\n    this.markdownIt.enable(enableRules);\r\n  }\r\n\r\n  disable(option: MarkdownOption) {\r\n    if (!option) { return; }\r\n    const disableRules = Object.keys(option).filter((value => {\r\n      return !option[value];\r\n    }));\r\n    this.markdownIt.disable(disableRules);\r\n  }\r\n}\r\n\r\nexport class MarkdownOptionImpl implements MarkdownOption {\r\n  anchor: boolean;\r\n}\r\n\r\ninterface Markdown {\r\n  render(markdown: string, options: any);\r\n  use<T>(fn: (md: any, observer: Observer<T>) => void);\r\n  enable(option: MarkdownOption);\r\n  disable(option: MarkdownOption);\r\n}\r\n\r\ninterface MarkdownOption {\r\n  anchor: boolean;\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport * as MarkdownIt from 'markdown-it/lib/index';\r\nimport {BehaviorSubject, Observable, Observer} from 'rxjs';\r\nimport {MarkdownImpl, MarkdownOptionImpl} from '../core/markdown/markdown';\r\nimport {FileOperatorImpl} from '../core/fileOperator';\r\nimport {map} from 'rxjs/operators';\r\nimport {TextParser} from '../utils/textParser';\r\nimport {IndexedDB} from '../core/indexedDB/indexedDB';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Ngr2MarkdownService {\r\n\r\n  /**\r\n   * 接收Markdown源文本\r\n   */\r\n  private originMd: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n  private resetMd: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n  /**\r\n   * 观察`originMd`通过`render`方法渲染出的HTML\r\n   */\r\n  private renderMd: Observable<MarkdownContent>;\r\n  private _md: MarkdownImpl;\r\n  /**\r\n   * 当前浏览的标题的Subject, BehaviorSubject可支持多播(在多处订阅)\r\n   */\r\n  currentHeading: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n  /**\r\n   * @deprecated\r\n   */\r\n  currentContent: BehaviorSubject<{md: string, html: string}> = new BehaviorSubject<{md: string, html: string}>({md: '', html: ''});\r\n  /**\r\n   * 发送目录信息的Subject\r\n   */\r\n  TOCInfo: BehaviorSubject<TOCItem> = new BehaviorSubject<TOCItem>(null);\r\n\r\n  constructor() {\r\n    this._md = new MarkdownImpl();\r\n    this._md.use(this.anchor)\r\n      .subscribe((value: Array<any>) => {\r\n        const infoList = value.map((item) => {\r\n          return new TOCItem(item.content, item.indentLevel);\r\n        });\r\n        const root = new TOCItem('root', 0);\r\n        let TOCInfo = root;\r\n        for (let i = 0; i < infoList.length; i++) {\r\n          while (TOCInfo && TOCInfo.indentLevel >= infoList[i].indentLevel) {\r\n            TOCInfo = TOCInfo.parent;\r\n          }\r\n          infoList[i].parent = TOCInfo;\r\n          TOCInfo.children.push(infoList[i]);\r\n          TOCInfo = infoList[i];\r\n        }\r\n        this.TOCInfo.next(root);\r\n      });\r\n\r\n    this.renderMd = this.originMd\r\n      .pipe(\r\n        map(mdText => {\r\n          return {\r\n            md:   mdText || null,\r\n            html: this.render(mdText)\r\n          };\r\n        })\r\n      );\r\n\r\n    this.resetMd\r\n      .subscribe(this.originMd);\r\n  }\r\n\r\n  /**\r\n   * 重置markdown文本\r\n   * @param md\r\n   */\r\n  reinitialization(md: string): void {\r\n    if (!md) { return; }\r\n    this.resetMd.next(md);\r\n  }\r\n\r\n  /**\r\n   * markdown文本重置后, 发出消息\r\n   */\r\n  observerResetMarkdown(): Observable<string> {\r\n    return this.resetMd;\r\n  }\r\n\r\n  /**\r\n   * 更新markdown文本, 用于实时预览功能\r\n   * @param md\r\n   */\r\n  updateMarkdown(md: string | Observable<string>): void {\r\n    if (!md) { return; }\r\n\r\n    if (md instanceof Observable) {\r\n      md.subscribe(this.originMd);\r\n    } else {\r\n      this.originMd.next(md);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * markdown文本更新后, 发出消息\r\n   */\r\n  observeMarkdown(): Observable<MarkdownContent> {\r\n    return this.renderMd;\r\n  }\r\n\r\n  render(markdown: string, options?: MarkdownOptionImpl): string {\r\n    if (!markdown) {\r\n      markdown = '';\r\n    }\r\n    const html = this._md.render(markdown, options);\r\n    TextParser.parseMD(markdown);\r\n    TextParser.parseHTML(html);\r\n    return html;\r\n  }\r\n\r\n  /**\r\n   * 设置当前浏览的标题\r\n   * @param heading - 标题标签的id\r\n   */\r\n  setCurrentHeading(heading: string): void {\r\n    if (this.currentHeading.getValue() !== heading) {\r\n      this.currentHeading.next(heading);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 将当前显示的内容转换成`data:`url\r\n   * @param type - `markdown`/`html`: 要转换的内容\r\n   */\r\n  currentContentToDataUrl(type: string): FileOperatorImpl {\r\n    const fileOperator = new FileOperatorImpl();\r\n    // 兼容ie11-10, ie10不支持File对象的构造函数, 无法新建File对象, 故使用Blob\r\n    let file: Blob | File;\r\n    switch (type) {\r\n      case 'markdown':\r\n        file = new Blob([this.currentContent.getValue().md], {type: 'text/plain'});\r\n        break;\r\n      case `html`:\r\n        file = new Blob([this.currentContent.getValue().html], {type: 'text/html'});\r\n        break;\r\n      default:\r\n        file = new Blob(['null'], {type: 'text/html'});\r\n        break;\r\n    }\r\n    fileOperator.toDataURLSync(file);\r\n    return fileOperator;\r\n  }\r\n\r\n  /**\r\n   * Plugin: anchor\r\n   * 这个方法向类型为heading_open的token添加id, 用于锚点定位\r\n   * @param md - MarkdownIt instance\r\n   * @param observer - use to push info\r\n   */\r\n  private anchor(md: MarkdownIt, observer: Observer<Array<any>>) {\r\n    md.core.ruler.push('anchor', (state => {\r\n      const infoList: Array<any> = [];\r\n      state.tokens.map((token, index, array) => {\r\n        if (token.type === 'heading_open') {\r\n          token.attrJoin('id', array[index + 1].content);\r\n          infoList.push({\r\n            content: token.attrGet('id'),\r\n            indentLevel: token.markup.length\r\n          });\r\n        }\r\n      });\r\n      observer.next(infoList);\r\n    }));\r\n  }\r\n}\r\n\r\nexport interface MarkdownContent {\r\n  md: string;\r\n  html?: string;\r\n  Markdown?: {\r\n    text:   string,\r\n    bytes:  number,\r\n    words:  number,\r\n    lines:  number\r\n  };\r\n  HTML?: {\r\n    text:       string,\r\n    characters: number,\r\n    words:      number,\r\n    paragraphs: number\r\n  };\r\n}\r\n/**\r\n * 目录(TOC)生成的位置\r\n * start: TOC在内容左边\r\n * end: 右边\r\n */\r\ntype TocPos = 'left' | 'right';\r\n/**\r\n * 模式\r\n * preview: 预览模式\r\n * edit: 编辑模式\r\n */\r\ntype Mode = 'preview' | 'edit';\r\n\r\nexport class EditorOption {\r\n  static MODE: Mode = 'edit';\r\n  static ANCHOR = false;\r\n  static TOc = false;\r\n  static TOOL_BAR = false;\r\n  static DIRECTION: TocPos = 'left';\r\n  static HEIGHT = '800px';\r\n  static THEME_COLOR = '#3f51b5';\r\n  static BODY_CLASS_NAME = 'markdown-body';\r\n\r\n  mode: Mode;\r\n  anchor: boolean;\r\n  TOC: boolean;\r\n  toolBar: boolean;\r\n  direction: TocPos;\r\n  /**\r\n   * container height property\r\n   */\r\n  height: string;\r\n  /**\r\n   * container toc active color property\r\n   */\r\n  themeColor: string;\r\n  bodyClassName: string;\r\n\r\n  constructor(mode: Mode            = EditorOption.MODE,\r\n            anchor: boolean         = EditorOption.ANCHOR,\r\n              TOC: boolean          = EditorOption.TOc,\r\n              toolBar: boolean      = EditorOption.TOOL_BAR,\r\n              direction: TocPos     = EditorOption.DIRECTION,\r\n              height: string        = EditorOption.HEIGHT,\r\n              themeColor: string    = EditorOption.THEME_COLOR,\r\n              bodyClassName: string = EditorOption.BODY_CLASS_NAME\r\n  ) {\r\n    this.mode =           mode;\r\n    this.anchor =         anchor;\r\n    this.TOC =            TOC;\r\n    this.toolBar =        toolBar;\r\n    this.direction =      direction;\r\n    this.height =         height;\r\n    this.themeColor =     themeColor;\r\n    this.bodyClassName =  bodyClassName;\r\n  }\r\n\r\n  static instanceOf(value: EditorOption) {\r\n    return new EditorOption(\r\n      value.mode          || EditorOption.MODE,\r\n      value.anchor        || EditorOption.ANCHOR,\r\n      value.TOC           || EditorOption.TOc,\r\n      value.toolBar       || EditorOption.TOOL_BAR,\r\n      value.direction     || EditorOption.DIRECTION,\r\n      value.height        || EditorOption.HEIGHT,\r\n      value.themeColor    || EditorOption.THEME_COLOR,\r\n      value.bodyClassName || EditorOption.BODY_CLASS_NAME,\r\n    );\r\n  }\r\n}\r\n\r\nexport class TOCItem {\r\n  content: string;\r\n  indentLevel: number;\r\n  parent: TOCItem;\r\n  children: Array<TOCItem>;\r\n\r\n  constructor(content: string, indentLevel: number) {\r\n    this.content      = content;\r\n    this.indentLevel  = indentLevel;\r\n    this.children     = new Array<TOCItem>();\r\n  }\r\n}\r\n","export class TextParser {\r\n\r\n  private static _DIV = document.createElement('DIV');\r\n  static WORDS = new RegExp('/([a-zA-Z]+)|([\\u4e00-\\u9fa5])/g');\r\n\r\n  private static parse(text: string): void {\r\n    if (!text) { return; }\r\n    const words = (text.match(TextParser.WORDS) || []).length;\r\n    let bytes = 0;\r\n    let lines = 0;\r\n    for (let i = 0; i < text.length; i++) {\r\n      if (text.charCodeAt(i) & 0xff00) {\r\n        bytes++;\r\n      } else if (text.charAt(i) === '\\n') {\r\n        lines++;\r\n      }\r\n      bytes++;\r\n    }\r\n    console.log({\r\n      words: words,\r\n      bytes: bytes,\r\n      lines: lines\r\n    });\r\n  }\r\n\r\n  static parseMD(markdown: string): void {\r\n    this.parse(markdown);\r\n  }\r\n\r\n  static parseHTML(html: string): void {\r\n    TextParser._DIV.innerHTML = html;\r\n    this.parse(TextParser._DIV.textContent);\r\n  }\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \".main-container {\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-direction: column;\\r\\n      flex-direction: column;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n.toolbar {\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-align: center;\\r\\n      align-items: center;\\r\\n  -ms-flex: 0 0 40px;\\r\\n      flex: 0 0 40px;\\r\\n  box-sizing: border-box;\\r\\n  padding: 5px;\\r\\n  background-color: lightgray;\\r\\n}\\r\\n\\r\\n.toolbar button {\\r\\n}\\r\\n\\r\\n.markdown {\\r\\n  -ms-flex: 1;\\r\\n      flex: 1;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYiwwQkFBc0I7TUFBdEIsc0JBQXNCO0VBQ3RCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHNCQUFtQjtNQUFuQixtQkFBbUI7RUFDbkIsa0JBQWM7TUFBZCxjQUFjO0VBQ2Qsc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWiwyQkFBMkI7QUFDN0I7O0FBRUE7QUFDQTs7QUFFQTtFQUNFLFdBQU87TUFBUCxPQUFPO0FBQ1QiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGhlaWdodDogMTAwdmg7XHJcbn1cclxuXHJcbi50b29sYmFyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZmxleDogMCAwIDQwcHg7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICBwYWRkaW5nOiA1cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xyXG59XHJcblxyXG4udG9vbGJhciBidXR0b24ge1xyXG59XHJcblxyXG4ubWFya2Rvd24ge1xyXG4gIGZsZXg6IDE7XHJcbn1cclxuIl19 */\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<div class=\\\"main-container\\\">\\r\\n  <nb-ngr2-markdown\\r\\n    [options]=\\\"{TOC: true, toolBar: true, direction: 'left', bodyClassName: 'markdown-body', height: 'calc(100vh)', themeColor: '#3f51a5'}\\\"\\r\\n    [markdown]=\\\"content\\\"\\r\\n    class=\\\"markdown\\\"\\r\\n  ></nb-ngr2-markdown>\\r\\n</div>\\r\\n<router-outlet></router-outlet>\\r\\n\"","import {AfterViewChecked, AfterViewInit, Component} from '@angular/core';\r\nimport {Ngr2MarkdownService} from '../../projects/ngr2-markdown/src/lib/service/ngr2-markdown.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements AfterViewInit, AfterViewChecked {\r\n  title = 'ngr2-markdown-example';\r\n  exampleText1 = `## page类构造函数\r\n\\`\\`\\`java\r\npublic Page(int pageId, String pageTitle, String pageAuthor, String pageContent, Timestamp createTime, Timestamp lastModifiedTime) {\r\n        this.pageId = pageId;\r\n        this.pageTitle = pageTitle;\r\n        this.pageAuthor = pageAuthor;\r\n        this.pageContent = pageContent;\r\n        this.createTime = createTime;\r\n        this.lastModifiedTime = lastModifiedTime;\r\n    }\r\n\\`\\`\\`\r\n### test3\r\n### test4\r\n## Controller层\r\n\\`\\`\\`java\r\n/**\r\n     * 获取指定页面完整信息\r\n     * @author Ce\r\n     * @date 2018/4/25 17:02\r\n     * @param [pageId]\r\n     * @return com.alibaba.fastjson.JSONObject\r\n     */\r\n    public Page pageInfo (int pageId) {\r\n\r\n        Object[] params = new Object[1];\r\n        params[0] = pageId;\r\n        List list = queryRepository.executeQuery(\"select new Page(pageId, pageTitle, pageAuthor, pageContent, createTime, lastModifiedTime) from Page where pageId=?0\", params);\r\n\r\n        if (list.size() > 1) {\r\n            try {\r\n                throw new Exception(\"pageId对应了多个page\");\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return (Page) list.get(0);\r\n    }\r\n\\`\\`\\`\r\n### test5\r\n可以看到在Page类的构造函数中有Timestamp类型的两个参数\\`createTime\\`和\\`lastModifiedTime\\`而导致爆出以下错误的原因是hibernate没有找到对应的构造函数.\r\n\\`\\`\\`\r\ncause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: cn.freedoe.entity.Page\r\n\\`\\`\\`\r\n所以应该是hibernate在mysql的timestamp类型和java的Timestamp类型转换的问题.\r\n但是通过Criteria添加条件,是可以成功执行查询的,所以问题范围缩小到HQL语句的DTO查询对Timestamp类型的转换识别\r\n`;\r\n  exampleText2 = `## Controller层\r\n\\`\\`\\`java\r\n/**\r\n     * 获取指定页面完整信息\r\n     * @author Ce\r\n     * @date 2018/4/25 17:02\r\n     * @param [pageId]\r\n     * @return com.alibaba.fastjson.JSONObject\r\n     */\r\n    public Page pageInfo (int pageId) {\r\n\r\n        Object[] params = new Object[1];\r\n        params[0] = pageId;\r\n        List list = queryRepository.executeQuery(\"select new Page(pageId, pageTitle, pageAuthor, pageContent, createTime, lastModifiedTime) from Page where pageId=?0\", params);\r\n\r\n        if (list.size() > 1) {\r\n            try {\r\n                throw new Exception(\"pageId对应了多个page\");\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return (Page) list.get(0);\r\n    }\r\n\\`\\`\\``;\r\n  content = null;\r\n\r\n  constructor(\r\n    private markdownService: Ngr2MarkdownService\r\n  ) {\r\n    this.content = this.exampleText1;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n  }\r\n\r\n  changeContent() {\r\n    if (this.content === null || this.content === this.exampleText1) {\r\n      this.content = this.exampleText2;\r\n    } else {\r\n      this.content = this.exampleText1;\r\n    }\r\n  }\r\n\r\n  changeContentToNull() {\r\n    this.content = null;\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\n// import {Ngr2MarkdownModule} from '../../projects/ngr2-markdown/src/lib/ngr2-markdown.module';\r\nimport {Ngr2MarkdownModule} from 'ngr2-markdown';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AppRoutingModule,\r\n    Ngr2MarkdownModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}